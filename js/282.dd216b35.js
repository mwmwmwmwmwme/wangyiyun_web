"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[282],{4376:function(e,t,s){s.d(t,{Fk:function(){return m},I3:function(){return r},XI:function(){return o},d4:function(){return c},dX:function(){return u},e_:function(){return h},hi:function(){return a},mf:function(){return i},n1:function(){return d},nz:function(){return l},rC:function(){return g}});var n=s(7344);function a(e,t,s){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}}&type=1&limit=${t}&offset=${s}`})}function i(e,t){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}&type=100&limit=${20*t}`})}function o(e,t,s){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}&type=10&limit=${t}&offset=${s}`})}function r(e,t,s){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}&type=1014&limit=${t}&offset=${s}`})}function l(e,t,s){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}&type=1000&limit=${t}&offset=${s}`})}function u(e,t,s){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}&type=1006&limit=${t}&offset=${s}`})}function c(e){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}&type=1009`})}function g(e,t,s){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}&type=2000&limit=${t}&offset=${s}`})}function d(e,t,s){return(0,n.Z)({method:"GET",url:`/search?keywords=${e}&type=1002&limit=${t}&offset=${s}`})}function m(e,t){return(0,n.Z)({method:"GET",url:`/artist/detail?id=${e}&cookie=${t}`})}function h(e,t){return(0,n.Z)({method:"GET",url:`/artist/follow/count?id=${e}&cookie=${t}`})}},1282:function(e,t,s){s.r(t),s.d(t,{default:function(){return se}});var n=s(1132),a=(s(4484),s(2229)),i=(s(9619),s(3396)),o=s(9242),r=s(7139);const l=e=>((0,i.dD)("data-v-6ec9183a"),e=e(),(0,i.Cn)(),e),u={class:"single"},c=(0,i.Uk)("载入中..."),g={class:"songCount"},d={class:"button"},m=l((()=>(0,i._)("svg",{class:"icon","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-yousanjiao"})],-1))),h=l((()=>(0,i._)("span",null,"播放全部",-1))),p=l((()=>(0,i._)("svg",{class:"icon jia","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-jia"})],-1))),v=[m,h,p],f=l((()=>(0,i._)("div",{class:"downloadAll"},[(0,i._)("svg",{class:"icon","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-xiazai"})]),(0,i._)("span",null,"下载全部")],-1))),y={class:"singles"},k=(0,i.uE)('<div class="single_top" data-v-6ec9183a><div class="title" data-v-6ec9183a>音乐标题</div><div class="singer" data-v-6ec9183a>歌手</div><div class="album" data-v-6ec9183a>专辑</div><div class="duration" data-v-6ec9183a>时长</div><div class="heatDegree" data-v-6ec9183a>热度</div></div>',1),w=["onDblclick"],S={class:"songTitle"},_={class:"no"},x=l((()=>(0,i._)("svg",{class:"icon aixin","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-aixin"})],-1))),$=l((()=>(0,i._)("svg",{class:"icon xiazai1","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-xiazai1"})],-1))),b={class:"songNameBox"},D={class:"songName"},C=["innerHTML"],H={key:1,class:"brackets"},I={class:"songAlia"},L={key:2,class:"vertical"},T={class:"transName"},V={key:3,class:"brackets"},N={key:0,class:"tag vipTag"},P=l((()=>(0,i._)("span",null,"VIP",-1))),K=[P],z={key:1,class:"tag mvTag"},E=l((()=>(0,i._)("span",null,"MV",-1))),Z=l((()=>(0,i._)("svg",{class:"icon","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-yousanjiao"})],-1))),q=[E,Z],G={class:"songSinger"},W={class:"singer"},M=["innerHTML","onClick"],A={key:1,class:"diagonal"},j={class:"songAlbum"},B=["onClick"],F={class:"songDuration"},Y=l((()=>(0,i._)("div",{class:"songHeatDegree"},[(0,i._)("div",{class:"progress_box"},[(0,i._)("div",{class:"progress"})])],-1)));function O(e,t,s,l,m,h){const p=a.g,P=n.t;return(0,i.wg)(),(0,i.iD)("div",u,[(0,i.wy)((0,i.Wm)(p,{vertical:"",type:"spinner"},{default:(0,i.w5)((()=>[c])),_:1},512),[[o.F8,1==m.isLoading]]),(0,i._)("div",g,"找到"+(0,r.zw)(h.songCountChange(m.songCount))+"首单曲",1),(0,i._)("div",d,[(0,i._)("div",{class:"playAll",onClick:t[0]||(t[0]=e=>h.playSongList(0))},v),f]),(0,i._)("div",y,[k,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.songs,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:(0,r.C_)(t==m.zero||t%2==0?"even song":"odd song"),onDblclick:e=>h.playSongList(t)},[(0,i._)("div",S,[(0,i._)("div",_,(0,r.zw)(h.formatIndex(t+1+m.offset)),1),x,$,(0,i._)("div",b,[(0,i._)("span",D,(0,r.zw)(h.activeSongName(e.name)),1),1==this.isVHtmlSongName?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"songName",innerHTML:m.vHtmlSongName},null,8,C)):(0,i.kq)("",!0),""!=e.alias||e.transNames?((0,i.wg)(),(0,i.iD)("span",H,"(")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.alias,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{class:"songAlias",key:t},[(0,i._)("span",I,(0,r.zw)(e),1)])))),128)),""!=e.alias&&e.transNames?((0,i.wg)(),(0,i.iD)("span",L,"|")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.transNames,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{class:"transNames",key:t},[(0,i._)("span",T,(0,r.zw)(e),1)])))),128)),""!=e.alias||e.transNames?((0,i.wg)(),(0,i.iD)("span",V,")")):(0,i.kq)("",!0)]),1==e.fee?((0,i.wg)(),(0,i.iD)("div",N,K)):(0,i.kq)("",!0),0!==e.mvid?((0,i.wg)(),(0,i.iD)("div",z,q)):(0,i.kq)("",!0)]),(0,i._)("div",G,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.artists,((t,s)=>((0,i.wg)(),(0,i.iD)("span",{key:s},[(0,i._)("span",W,(0,r.zw)(h.activeSinger(t.name)),1),1==m.isVHtmlSinger?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"singer",innerHTML:m.vHtmlSinger,onClick:e=>h.goSingerPage(t.id)},null,8,M)):(0,i.kq)("",!0),s<e.artists.length-1?((0,i.wg)(),(0,i.iD)("span",A,"/")):(0,i.kq)("",!0)])))),128))]),(0,i._)("div",j,[(0,i._)("span",{onClick:t=>h.goSongListDetail(e.album.id)},(0,r.zw)(e.album.name),9,B)]),(0,i._)("div",F,[(0,i._)("span",null,(0,r.zw)(h.formatDuration(e.duration)),1)]),Y],42,w)))),128))]),(0,i.Wm)(P,{class:"pagination",onChange:h.pageChange,modelValue:m.currentPage,"onUpdate:modelValue":t[1]||(t[1]=e=>m.currentPage=e),"prev-text":"<","next-text":">","total-items":m.songCount,"show-page-size":9,"items-per-page":m.limit,"force-ellipses":""},null,8,["onChange","modelValue","total-items","items-per-page"])])}var R=s(6810),U=s(4239),X=s(4376),Q=s(65),J={data(){return{isLoading:1,limit:100,offset:0,currentPage:1,songs:[],zero:0,searchKey:"",songCount:0,vHtmlSongName:"",isVHtmlSongName:0,vHtmlSinger:"",isVHtmlSinger:0}},created(){R.Z.on("searchKey",(e=>{this.searchKey=e}))},mounted(){this.searchKey=U.Z.state.searchKey,sessionStorage.getItem("searchKey")&&this.getSingle()},methods:{async getSingle(){let e=await(0,X.hi)(sessionStorage.getItem("searchKey"),this.limit,this.offset);this.songCount=e.data.result.songCount,this.songs=e.data.result.songs,0!==this.songs.length&&(this.isLoading=0)},pageChange(){this.offset=(this.currentPage-1)*this.limit,this.getSingle()},formatDuration(e){return this.$formatDuration(e)},formatIndex(e){return this.$formatIndex(e)},activeSongName(e){let t=new RegExp(this.searchKey,"g"),s='<span style="color: rgb(27, 94, 195)">'+this.searchKey+"</span>";return e=e.replace(t,s),-1==e.indexOf(this.searchKey)?(this.isVHtmlSongName=0,e):(this.isVHtmlSongName=1,this.vHtmlSongName=e,"")},activeSinger(e){let t=new RegExp(this.searchKey,"g"),s='<span style="color: rgb(27, 94, 195)">'+this.searchKey+"</span>";return e=e.replace(t,s),-1==e.indexOf(this.searchKey)?(this.isVHtmlSinger=0,e):(this.isVHtmlSinger=1,this.vHtmlSinger=e,"")},songCountChange(e){return e>300?300:e},goSongListDetail(e){this.$router.push({path:"/SongListDetail",query:{id:e,type:2}})},goSingerPage(e){this.$router.push({path:"/SingerPage",query:{id:e}})},playSongList(e){this.updateIsPlayBox(1),this.updatePlayList(this.songs),this.updateSongListName("搜索页"),this.updateSongListId(2),this.updatePlayListIndex(e)},...(0,Q.OI)(["updateIsPlayBox","updatePlayList","updateSongListName","updateSongListId","updatePlayListIndex"])},watch:{searchKey(){this.isLoading=1,this.getSingle()}}},ee=s(89);const te=(0,ee.Z)(J,[["render",O],["__scopeId","data-v-6ec9183a"]]);var se=te},1132:function(e,t,s){s.d(t,{t:function(){return v}});var n=s(1404),a=s(3396),i=s(610),o=s(5323),r=s(6048);const l="van-hairline",u=`${l}--surround`,[c,g,d]=(Symbol("van-form"),(0,i["do"])("pagination")),m=(e,t,s)=>({number:e,text:t,active:s}),h={mode:(0,o.SQ)("multi"),prevText:String,nextText:String,pageCount:(0,o.SI)(0),modelValue:(0,o.qM)(0),totalItems:(0,o.SI)(0),showPageSize:(0,o.SI)(5),itemsPerPage:(0,o.SI)(10),forceEllipses:Boolean};var p=(0,a.aZ)({name:c,props:h,emits:["change","update:modelValue"],setup(e,{emit:t,slots:s}){const n=(0,a.Fl)((()=>{const{pageCount:t,totalItems:s,itemsPerPage:n}=e,a=+t||Math.ceil(+s/+n);return Math.max(1,a)})),i=(0,a.Fl)((()=>{const t=[],s=n.value,a=+e.showPageSize,{modelValue:i,forceEllipses:o}=e;let r=1,l=s;const u=a<s;u&&(r=Math.max(i-Math.floor(a/2),1),l=r+a-1,l>s&&(l=s,r=l-a+1));for(let e=r;e<=l;e++){const s=m(e,e,e===i);t.push(s)}if(u&&a>0&&o){if(r>1){const e=m(r-1,"...");t.unshift(e)}if(l<s){const e=m(l+1,"...");t.push(e)}}return t})),o=(s,a)=>{s=(0,r.uZ)(s,1,n.value),e.modelValue!==s&&(t("update:modelValue",s),a&&t("change",s))};(0,a.m0)((()=>o(e.modelValue)));const l=()=>(0,a.Wm)("li",{class:g("page-desc")},[s.pageDesc?s.pageDesc():`${e.modelValue}/${n.value}`]),c=()=>{const{mode:t,modelValue:n}=e,i=s["prev-text"],r=1===n;return(0,a.Wm)("li",{class:[g("item",{disabled:r,border:"simple"===t,prev:!0}),u]},[(0,a.Wm)("button",{type:"button",disabled:r,onClick:()=>o(n-1,!0)},[i?i():e.prevText||d("prev")])])},h=()=>{const{mode:t,modelValue:i}=e,r=s["next-text"],l=i===n.value;return(0,a.Wm)("li",{class:[g("item",{disabled:l,border:"simple"===t,next:!0}),u]},[(0,a.Wm)("button",{type:"button",disabled:l,onClick:()=>o(i+1,!0)},[r?r():e.nextText||d("next")])])},p=()=>i.value.map((e=>(0,a.Wm)("li",{class:[g("item",{active:e.active,page:!0}),u]},[(0,a.Wm)("button",{type:"button","aria-current":e.active||void 0,onClick:()=>o(e.number,!0)},[s.page?s.page(e):e.text])])));return()=>(0,a.Wm)("nav",{role:"navigation",class:g()},[(0,a.Wm)("ul",{class:g("items")},[c(),"simple"===e.mode?l():p(),h()])])}});const v=(0,n.n)(p)},4484:function(e,t,s){s(1958)}}]);
//# sourceMappingURL=282.dd216b35.js.map