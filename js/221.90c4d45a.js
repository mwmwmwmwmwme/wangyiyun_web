"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[221],{9923:function(t,e,n){n.d(e,{AM:function(){return w},CF:function(){return g},Gu:function(){return v},H6:function(){return a},J_:function(){return l},Kh:function(){return m},Q:function(){return y},Qc:function(){return d},Tr:function(){return u},Uf:function(){return r},Vb:function(){return $},ad:function(){return c},jq:function(){return T},p1:function(){return k},t:function(){return p},tD:function(){return h},tn:function(){return s},vw:function(){return o},wq:function(){return f}});var i=n(7344);function s(){return(0,i.Z)({method:"GET",url:"/homepage/block/page"})}function a(){return(0,i.Z)({method:"GET",url:"/playlist/catlist"})}function r(){return(0,i.Z)({method:"GET",url:"/playlist/hot"})}function o(t,e,n){return(0,i.Z)({method:"GET",url:`/top/playlist?cat=${t}&limit=${e}&offset=${n}`})}function l(){return(0,i.Z)({method:"GET",url:"/playlist/highquality/tags"})}function c(t){return(0,i.Z)({method:"GET",url:`/top/playlist/highquality?cat=${t}`})}function u(){return(0,i.Z)({method:"GET",url:"/toplist"})}function d(t){return(0,i.Z)({method:"GET",url:`/top/song?type=${t}`})}function h(t,e){return(0,i.Z)({method:"GET",url:`/top/album?offset=0&limit=30&area=${t}&type=${e}`})}function f(t,e,n){return(0,i.Z)({method:"GET",url:`/artist/list?type=${t}&area=${e}&initial=${n}&offset=0&limit=100`})}function p(t){return(0,i.Z)({method:"GET",url:`/recommend/resource?cookie=${t}`})}function g(t){return(0,i.Z)({method:"GET",url:`/recommend/songs?cookie=${t}`})}function m(t){return(0,i.Z)({method:"GET",url:`/personalized?limit=${t}`})}function v(t){return(0,i.Z)({method:"GET",url:`/dj/hot?limit=${t}`})}function y(){return(0,i.Z)({method:"GET",url:"/personalized/privatecontent"})}function w(t,e){return(0,i.Z)({method:"GET",url:`/personalized/privatecontent/list?limit=${t}&offset=${e}`})}function $(){return(0,i.Z)({method:"GET",url:"/personalized/mv"})}function T(t){return(0,i.Z)({method:"GET",url:`/history/recommend/songs?cookie=${t}`})}function k(t,e){return(0,i.Z)({method:"GET",url:`/history/recommend/songs/detail?date=${e}&cookie=${t}`})}},3221:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var i=n(2229),s=(n(9619),n(3396)),a=n(9242),r=n(7139);const o=t=>((0,s.dD)("data-v-74f9e3c4"),t=t(),(0,s.Cn)(),t),l={class:"container"},c={class:"top"},u={class:"top_left"},d=(0,s.uE)('<div class="top_right" data-v-74f9e3c4><div class="playAll" data-v-74f9e3c4><svg class="icon" aria-hidden="true" data-v-74f9e3c4><use xlink:href="#icon-bofang" data-v-74f9e3c4></use></svg><span data-v-74f9e3c4>播放全部</span></div><div class="collectAll" data-v-74f9e3c4><svg class="icon" aria-hidden="true" data-v-74f9e3c4><use xlink:href="#icon-24gl-folderHeart" data-v-74f9e3c4></use></svg><span data-v-74f9e3c4>收藏全部</span></div></div>',1),h=(0,s.Uk)("载入中..."),f={class:"no"},p={class:"head"},g=["src"],m=o((()=>(0,s._)("div",{class:"playKey"},[(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-yousanjiao"})])],-1))),v={class:"songName"},y={key:0,class:"alias"},w={class:"singer"},$=["onClick"],T={key:0,class:"diagonal"},k=["onClick"],_={class:"duration"};function D(t,e,n,o,D,Z){const E=i.g,G=(0,s.up)("lazy-component"),L=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",c,[(0,s._)("div",u,[(0,s._)("span",{onClick:e[0]||(e[0]=t=>Z.changeType(0)),ref:"type0",class:"active"},"全部",512),(0,s._)("span",{onClick:e[1]||(e[1]=t=>Z.changeType(7)),ref:"type7"},"华语",512),(0,s._)("span",{onClick:e[2]||(e[2]=t=>Z.changeType(96)),ref:"type96"},"欧美",512),(0,s._)("span",{onClick:e[3]||(e[3]=t=>Z.changeType(16)),ref:"type16"},"韩国",512),(0,s._)("span",{onClick:e[4]||(e[4]=t=>Z.changeType(8)),ref:"type8"},"日本",512)]),d]),(0,s.wy)((0,s.Wm)(E,{vertical:"",type:"spinner"},{default:(0,s.w5)((()=>[h])),_:1},512),[[a.F8,1==D.isLoading]]),(0,s.Wm)(G,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.newSongs,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,r.C_)(e==D.zero||e%2==0?"even song":"odd song")},[(0,s._)("div",f,(0,r.zw)(Z.formatIndex(e+1)),1),(0,s._)("div",p,[(0,s.wy)((0,s._)("img",{src:t.album.blurPicUrl},null,8,g),[[L,t.album.blurPicUrl]]),m]),(0,s._)("div",v,[(0,s.Uk)((0,r.zw)(t.name)+" ",1),""!=t.alias?((0,s.wg)(),(0,s.iD)("span",y,"("+(0,r.zw)(t.alias[0])+")",1)):(0,s.kq)("",!0)]),(0,s._)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.artists,((e,n)=>((0,s.wg)(),(0,s.iD)("span",{key:n,onClick:t=>Z.goSingerPage(e.id)},[(0,s.Uk)((0,r.zw)(e.name)+" ",1),n<t.artists.length-1?((0,s.wg)(),(0,s.iD)("span",T,"/")):(0,s.kq)("",!0)],8,$)))),128))]),(0,s._)("div",{class:"album",onClick:e=>Z.goDetail(t.album.id)},(0,r.zw)(t.album.name),9,k),(0,s._)("div",_,[(0,s._)("span",null,(0,r.zw)(this.formatDuration(t.duration)),1)])],2)))),128))])),_:1})])}var Z=n(4239),E=n(9923),G={data(){return{zero:0,resData:[],newSongs:[],total:0,once:10,countOfRender:20,isLoading:1}},props:["scrollTop"],async mounted(){let t=this.$ls.get("getNewSong","null");if(console.log(t),"null"!=t&&(this.resData=t.data.data),"null"==t){let t=await(0,E.Qc)(0);console.log(t),this.$ls.set("get0NewSong",t,Z.Z.state.validityTime),this.resData=t.data.data}this.total=this.resData.length,this.newSongs=this.resData.slice(0,20)},methods:{formatIndex(t){return this.$formatIndex(t)},formatDuration(t){return this.$formatDuration(t)},changeType(t){this.checkType(t),this.typeExclusive(t)},async checkType(t){let e="get"+t+"NewSong",n=this.$ls.get(e,"null");if(console.log(n),"null"!=n&&(this.resData=n.data.data),"null"==n){let n=await(0,E.Qc)(t);try{this.$ls.set(e,n,Z.Z.state.validityTime)}catch(i){i.name.toUpperCase().indexOf("QUOTA")>=0&&this.$ls.clear(),this.$ls.set(e,n,Z.Z.state.validityTime)}this.resData=n.data.data}this.newSongs=this.resData.slice(0,20),this.countOfRender=20,this.total=this.resData.length},typeExclusive(t){this.$refs.type0.classList.remove("active"),this.$refs.type7.classList.remove("active"),this.$refs.type96.classList.remove("active"),this.$refs.type16.classList.remove("active"),this.$refs.type8.classList.remove("active"),0==t&&this.$refs.type0.classList.add("active"),7==t&&this.$refs.type7.classList.add("active"),96==t&&this.$refs.type96.classList.add("active"),16==t&&this.$refs.type16.classList.add("active"),8==t&&this.$refs.type8.classList.add("active")},scrollLoad(){const t=[];for(let e=0;e<this.once;e++){if(this.countOfRender>=this.total)return;t.push(this.resData[this.countOfRender]),this.countOfRender+=1}this.newSongs=this.newSongs.concat(t),console.log("temp",t)},goDetail(t){this.$router.push({path:"/SongListDetail",query:{id:t,type:2}})},goSingerPage(t){this.$router.push({path:"/SingerPage",query:{id:t}})}},watch:{scrollTop(){this.scrollLoad()},newSongs(){0!==this.newSongs.length&&(this.isLoading=0)}}},L=n(89);const b=(0,L.Z)(G,[["render",D],["__scopeId","data-v-74f9e3c4"]]);var C=b}}]);
//# sourceMappingURL=221.90c4d45a.js.map