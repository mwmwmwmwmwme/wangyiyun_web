"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[678],{9923:function(t,a,e){e.d(a,{AM:function(){return k},CF:function(){return m},Gu:function(){return p},H6:function(){return i},J_:function(){return r},Kh:function(){return v},Q:function(){return y},Qc:function(){return u},Tr:function(){return d},Uf:function(){return o},Vb:function(){return w},ad:function(){return c},jq:function(){return D},p1:function(){return _},t:function(){return f},tD:function(){return g},tn:function(){return s},vw:function(){return l},wq:function(){return h}});var n=e(7344);function s(){return(0,n.Z)({method:"GET",url:"/homepage/block/page"})}function i(){return(0,n.Z)({method:"GET",url:"/playlist/catlist"})}function o(){return(0,n.Z)({method:"GET",url:"/playlist/hot"})}function l(t,a,e){return(0,n.Z)({method:"GET",url:`/top/playlist?cat=${t}&limit=${a}&offset=${e}`})}function r(){return(0,n.Z)({method:"GET",url:"/playlist/highquality/tags"})}function c(t){return(0,n.Z)({method:"GET",url:`/top/playlist/highquality?cat=${t}`})}function d(){return(0,n.Z)({method:"GET",url:"/toplist"})}function u(t){return(0,n.Z)({method:"GET",url:`/top/song?type=${t}`})}function g(t,a){return(0,n.Z)({method:"GET",url:`/top/album?offset=0&limit=30&area=${t}&type=${a}`})}function h(t,a,e){return(0,n.Z)({method:"GET",url:`/artist/list?type=${t}&area=${a}&initial=${e}&offset=0&limit=100`})}function f(t){return(0,n.Z)({method:"GET",url:`/recommend/resource?cookie=${t}`})}function m(t){return(0,n.Z)({method:"GET",url:`/recommend/songs?cookie=${t}`})}function v(t){return(0,n.Z)({method:"GET",url:`/personalized?limit=${t}`})}function p(t){return(0,n.Z)({method:"GET",url:`/dj/hot?limit=${t}`})}function y(){return(0,n.Z)({method:"GET",url:"/personalized/privatecontent"})}function k(t,a){return(0,n.Z)({method:"GET",url:`/personalized/privatecontent/list?limit=${t}&offset=${a}`})}function w(){return(0,n.Z)({method:"GET",url:"/personalized/mv"})}function D(t){return(0,n.Z)({method:"GET",url:`/history/recommend/songs?cookie=${t}`})}function _(t,a){return(0,n.Z)({method:"GET",url:`/history/recommend/songs/detail?date=${a}&cookie=${t}`})}},3039:function(t,a,e){e.r(a),e.d(a,{default:function(){return st}});var n=e(2229),s=(e(9619),e(3396)),i=e(9242),o=e(7139);const l=t=>((0,s.dD)("data-v-730cf7a8"),t=t(),(0,s.Cn)(),t),r={class:"recommendSongs"},c=(0,s.Uk)("载入中..."),d={class:"recommendSongs_top"},u={class:"title"},g=l((()=>(0,s._)("div",{class:"calendar"},[(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-rili"})])],-1))),h={class:"date"},f=l((()=>(0,s._)("div",{class:"titleInfo"},[(0,s._)("div",{class:"titleInfo1"},[(0,s._)("span",null,"每日歌曲推荐")]),(0,s._)("div",{class:"titleInfo2"},[(0,s._)("span",null,"根据你的音乐口味生成，每天6:00更新")])],-1))),m={class:"buttons"},v=(0,s.uE)('<div class="playAll_left" data-v-730cf7a8><svg class="icon" aria-hidden="true" data-v-730cf7a8><use xlink:href="#icon-yousanjiao" data-v-730cf7a8></use></svg><span data-v-730cf7a8>播放全部</span></div><div class="playAll_right" title="添加全部到播放列表" data-v-730cf7a8><svg class="icon jia" aria-hidden="true" data-v-730cf7a8><use xlink:href="#icon-jia" data-v-730cf7a8></use></svg></div>',2),p=[v],y=l((()=>(0,s._)("div",{class:"collect"},[(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-favorite"})]),(0,s._)("span",null,"收藏全部")],-1))),k={ref:"dateBoxChange2"},w={class:"dateBox",ref:"dateBox"},D=l((()=>(0,s._)("span",null,"今天",-1))),_=[D],x=["onClick"],$={class:"songs"},S=(0,s.uE)('<div class="titles" data-v-730cf7a8><div class="songTitles" data-v-730cf7a8><span data-v-730cf7a8>音乐标题</span></div><div class="singers" data-v-730cf7a8><span data-v-730cf7a8>歌手</span></div><div class="albums" data-v-730cf7a8><span data-v-730cf7a8>专辑</span></div><div class="duration" data-v-730cf7a8><span data-v-730cf7a8>时长</span></div></div>',1),T=["onDblclick"],E={class:"songTitle"},C={class:"no"},b=l((()=>(0,s._)("svg",{class:"icon aixin","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-aixin"})],-1))),B=l((()=>(0,s._)("svg",{class:"icon xiazai1","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-xiazai1"})],-1))),G={class:"songNameBox"},Z={class:"songName"},I={key:0,class:"brackets"},z={class:"songAlia"},L={key:1,class:"vertical"},q={class:"transName"},H={key:2,class:"brackets"},A={key:3,class:"tag vipTag"},P=l((()=>(0,s._)("span",null,"VIP",-1))),R=[P],j=["onClick"],K=l((()=>(0,s._)("span",null,"MV",-1))),N=l((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-yousanjiao"})],-1))),V=[K,N],Y={class:"songSinger"},F={key:0,class:"diagonal"},U={key:0,class:"brackets"},M={class:"tns"},Q={class:"transName"},J={key:1,class:"brackets"},O={class:"songDuration"};function W(t,a,e,l,v,D){const P=n.g;return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.wy)((0,s.Wm)(P,{vertical:"",type:"spinner"},{default:(0,s.w5)((()=>[c])),_:1},512),[[i.F8,1==v.isLoading]]),(0,s._)("div",d,[(0,s._)("div",u,[g,(0,s._)("div",h,[(0,s._)("span",null,(0,o.zw)(this.date),1)]),f]),(0,s._)("div",m,[(0,s._)("div",{class:"playAll",onClick:a[0]||(a[0]=t=>D.playSongList(0))},p),y,(0,s._)("div",{class:"historicalRecommend",onClick:a[1]||(a[1]=(...t)=>D.getHistoryRecommend&&D.getHistoryRecommend(...t)),ref:"dateBoxChange1"},[(0,s._)("span",k,"历史日推",512)],512),(0,s.wy)((0,s._)("div",w,[(0,s._)("div",{class:"date",onClick:a[2]||(a[2]=t=>D.getHistoryRecommendDetail(0))},_),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.dates,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"date",key:a,onClick:a=>D.getHistoryRecommendDetail(t)},[(0,s._)("span",null,(0,o.zw)(t),1)],8,x)))),128))],512),[[i.F8,this.isDateBox]])])]),(0,s._)("div",$,[S,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.dailySongs,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a,class:(0,o.C_)(0==a||a%2==0?"even song":"odd song"),onDblclick:t=>D.playSongList(a)},[(0,s._)("div",E,[(0,s._)("div",C,(0,o.zw)(D.formatIndex(a+1)),1),b,B,(0,s._)("div",G,[(0,s._)("span",Z,(0,o.zw)(t.name),1),""!=t.alia||t.tns?((0,s.wg)(),(0,s.iD)("span",I,"(")):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.alia,((t,a)=>((0,s.wg)(),(0,s.iD)("span",{class:"songAlias",key:a},[(0,s._)("span",z,(0,o.zw)(t),1)])))),128)),""!=t.alia&&t.tns?((0,s.wg)(),(0,s.iD)("span",L,"|")):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.tns,((t,a)=>((0,s.wg)(),(0,s.iD)("span",{class:"tns",key:a},[(0,s._)("span",q,(0,o.zw)(t),1)])))),128)),""!=t.alia||t.tns?((0,s.wg)(),(0,s.iD)("span",H,")")):(0,s.kq)("",!0),1==t.fee?((0,s.wg)(),(0,s.iD)("div",A,R)):(0,s.kq)("",!0),0!==t.mv?((0,s.wg)(),(0,s.iD)("div",{key:4,class:"tag mvTag",onClick:a=>D.goVideoPlayer(t.mv)},V,8,j)):(0,s.kq)("",!0)])]),(0,s._)("div",Y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.ar,((a,e)=>((0,s.wg)(),(0,s.iD)("span",{class:"singerName",key:e},[(0,s.Uk)((0,o.zw)(a.name)+" ",1),e<t.ar.length-1?((0,s.wg)(),(0,s.iD)("span",F,"/")):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",{class:(0,o.C_)(""==t.al.name?"songAlbum songAlbumUnknown":"songAlbum songAlbumKnown")},[(0,s._)("span",null,(0,o.zw)(t.al.name||"未知专辑"),1),0!==t.al.tns.length?((0,s.wg)(),(0,s.iD)("span",U,"(")):(0,s.kq)("",!0),(0,s._)("span",M,[(0,s._)("span",Q,(0,o.zw)(t.al.tns[0]),1)]),0!==t.al.tns.length?((0,s.wg)(),(0,s.iD)("span",J,")")):(0,s.kq)("",!0)],2),(0,s._)("div",O,[(0,s._)("span",null,(0,o.zw)(this.formatDuration(t.dt)),1)])],42,T)))),128))])])}var X=e(9923),tt=e(65),at={data(){return{isLoading:1,dailySongs:[],date:0,isDateBox:0,dates:[]}},mounted(){this.date=(new Date).getDate()>=10?(new Date).getDate():"0"+(new Date).getDate(),0==this.dailySongs.length&&sessionStorage.getItem("cookie")&&this.getDailyRecommendedSongs(),window.addEventListener("click",this.otherClose)},beforeDestroy(){window.removeEventListener("click",this.otherClose)},methods:{async getDailyRecommendedSongs(){let t=await(0,X.CF)(sessionStorage.getItem("cookie"));this.dailySongs=t.data.data.dailySongs},formatIndex(t){return this.$formatIndex(t)},formatDuration(t){return this.$formatDuration(t)},async getHistoryRecommend(){if(this.isDateBox=!this.isDateBox,0==this.dates.length){const t=await(0,X.jq)(sessionStorage.getItem("cookie"));this.dates=t.data.data.dates}},async getHistoryRecommendDetail(t){const a=(new Date).getDate()>=10?(new Date).getDate():"0"+(new Date).getDate();if(0==t&&this.date!==a)this.date=(new Date).getDate()>=10?(new Date).getDate():"0"+(new Date).getDate(),this.getDailyRecommendedSongs();else if(0!==t&&this.date!==t.slice(t.length-2,t.length+1)){this.date=t.slice(t.length-2,t.length+1);const a=await(0,X.p1)(sessionStorage.getItem("cookie"),t);this.dailySongs=a.data.data.songs}},otherClose(t){1==this.isDateBox&&this.$refs.dateBox&&this.$refs.dateBox.contains(t.target),1==this.isDateBox&&this.$refs.dateBox&&!this.$refs.dateBox.contains(t.target)&&t.target!=this.$refs.dateBoxChange1&&t.target!=this.$refs.dateBoxChange2&&(this.isDateBox=!1)},goVideoPlayer(t){this.$router.push({path:"/VideoPlayer",query:{mvid:t,type:1}})},playSongList(t){this.updateIsPlayBox(1),this.updatePlayList(this.dailySongs),this.updateSongListName("每日歌曲推荐"),this.updateSongListId(1),this.updatePlayListIndex(t)},...(0,tt.OI)(["updateIsPlayBox","updatePlayList","updateSongListName","updateSongListId","updatePlayListIndex"])},watch:{dailySongs(){0!==this.dailySongs.length&&(this.isLoading=0)}}},et=e(89);const nt=(0,et.Z)(at,[["render",W],["__scopeId","data-v-730cf7a8"]]);var st=nt}}]);
//# sourceMappingURL=recommendSongs.82b860d9.js.map