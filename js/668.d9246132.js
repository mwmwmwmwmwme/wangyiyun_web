"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[668],{9923:function(i,t,e){e.d(t,{AM:function(){return w},CF:function(){return f},Gu:function(){return m},H6:function(){return a},J_:function(){return r},Kh:function(){return v},Q:function(){return k},Qc:function(){return d},Tr:function(){return u},Uf:function(){return l},Vb:function(){return y},ad:function(){return c},jq:function(){return L},p1:function(){return _},t:function(){return h},tD:function(){return g},tn:function(){return n},vw:function(){return o},wq:function(){return p}});var s=e(7344);function n(){return(0,s.Z)({method:"GET",url:"/homepage/block/page"})}function a(){return(0,s.Z)({method:"GET",url:"/playlist/catlist"})}function l(){return(0,s.Z)({method:"GET",url:"/playlist/hot"})}function o(i,t,e){return(0,s.Z)({method:"GET",url:`/top/playlist?cat=${i}&limit=${t}&offset=${e}`})}function r(){return(0,s.Z)({method:"GET",url:"/playlist/highquality/tags"})}function c(i){return(0,s.Z)({method:"GET",url:`/top/playlist/highquality?cat=${i}`})}function u(){return(0,s.Z)({method:"GET",url:"/toplist"})}function d(i){return(0,s.Z)({method:"GET",url:`/top/song?type=${i}`})}function g(i,t){return(0,s.Z)({method:"GET",url:`/top/album?offset=0&limit=30&area=${i}&type=${t}`})}function p(i,t,e){return(0,s.Z)({method:"GET",url:`/artist/list?type=${i}&area=${t}&initial=${e}&offset=0&limit=100`})}function h(i){return(0,s.Z)({method:"GET",url:`/recommend/resource?cookie=${i}`})}function f(i){return(0,s.Z)({method:"GET",url:`/recommend/songs?cookie=${i}`})}function v(i){return(0,s.Z)({method:"GET",url:`/personalized?limit=${i}`})}function m(i){return(0,s.Z)({method:"GET",url:`/dj/hot?limit=${i}`})}function k(){return(0,s.Z)({method:"GET",url:"/personalized/privatecontent"})}function w(i,t){return(0,s.Z)({method:"GET",url:`/personalized/privatecontent/list?limit=${i}&offset=${t}`})}function y(){return(0,s.Z)({method:"GET",url:"/personalized/mv"})}function L(i){return(0,s.Z)({method:"GET",url:`/history/recommend/songs?cookie=${i}`})}function _(i,t){return(0,s.Z)({method:"GET",url:`/history/recommend/songs/detail?date=${t}&cookie=${i}`})}},7668:function(i,t,e){e.r(t),e.d(t,{default:function(){return zi}});var s=e(3396),n=e(7139);const a=i=>((0,s.dD)("data-v-6d3ce7c0"),i=i(),(0,s.Cn)(),i),l={class:"globalList"},o=a((()=>(0,s._)("div",{class:"listTop"},"全球榜",-1))),r={class:"lists"},c=["onClick"],u=["onMouseover","onMouseleave"],d=["src"],g=a((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-bofang1"})],-1))),p=[g],h={class:"playCount"},f=a((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-bofang2"})],-1))),v={class:"listName"};function m(i,t,e,a,g,m){const k=(0,s.Q2)("lazy");return(0,s.wg)(),(0,s.iD)("div",l,[o,(0,s._)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.globalList,((i,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"list",key:t,onClick:t=>m.goDetail(i.id)},[(0,s._)("div",{class:"listPic",onMouseover:i=>m.playKeyMouseover(t),onMouseleave:i=>m.playKeyMouseleave(t)},[(0,s.wy)((0,s._)("img",{src:i.coverImgUrl},null,8,d),[[k,i.coverImgUrl]]),(0,s._)("div",{class:"playKey",ref_for:!0,ref:"playKey"},p,512),(0,s._)("div",h,[f,(0,s._)("span",null,(0,n.zw)(m.formatCount(i.playCount)),1)])],40,u),(0,s._)("div",v,[(0,s._)("span",null,(0,n.zw)(i.name),1)])],8,c)))),128))])])}e(6810);var k=e(4239),w=e(9923),y={data(){return{allLists:[],globalList:[]}},async mounted(){let i=this.$ls.get("getAllLists","null");if("null"!=i&&(this.allLists=i.data.list),"null"==i){let i=await(0,w.Tr)();this.$ls.set("getAllLists",i,k.Z.state.validityTime),this.allLists=i.data.list}this.globalList=this.allLists.slice(4,this.allLists.length)},methods:{playKeyMouseover(i){this.$refs.playKey[i].style.display="block"},playKeyMouseleave(i){this.$refs.playKey[i].style.display="none"},formatCount(i){return this.$formatCount(i)},goDetail(i){this.$router.push({path:"/SongListDetail",query:{id:i,type:1}})}},watch:{globalList(){0!==this.globalList.length&&this.$emit("GlobalListLoadingOk",1)}}},L=e(89);const _=(0,L.Z)(y,[["render",m],["__scopeId","data-v-6d3ce7c0"]]);var T=_;const D=i=>((0,s.dD)("data-v-2bc8ea38"),i=i(),(0,s.Cn)(),i),z={class:"officialList"},$=D((()=>(0,s._)("div",{class:"listTop"},"官方榜",-1))),b=["onMouseover","onMouseleave"],F=["src","onClick"],G=D((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-bofang1"})],-1))),O=[G],C={class:"updateTime"},Z={key:0,class:"topFive"},q={class:"soaringRate"},K=["title"],M={key:0,class:"secName"},E={key:1,class:"secName"},N={class:"songSingers_box"},S={key:0},H={key:1,class:"topFive"},U=D((()=>(0,s._)("div",{class:"soaringRate"},null,-1))),x=["title"],Y={key:0,class:"secName"},I={key:1,class:"secName"},A={class:"songSingers_box"},R={key:0},V={key:2,class:"topFive"},W={class:"new"},j=D((()=>(0,s._)("use",{"xlink:href":"#icon-new"},null,-1))),Q=[j],P=["title"],B={key:0,class:"secName"},J={key:1,class:"secName"},X={class:"songSingers_box"},ii={key:0},ti={key:3,class:"topFive"},ei=D((()=>(0,s._)("div",{class:"soaringRate"},null,-1))),si=["title"],ni={key:0,class:"secName"},ai={key:1,class:"secName"},li={class:"songSingers_box"},oi={key:0},ri=["onClick"],ci=D((()=>(0,s._)("span",null,"查看全部",-1))),ui=D((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-youjiantou1"})],-1))),di=[ci,ui];function gi(i,t,e,a,l,o){return(0,s.wg)(),(0,s.iD)("div",z,[$,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.officialList,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"list",key:a},[(0,s._)("div",{class:"listPic",onMouseover:i=>o.headMouseover(a),onMouseleave:i=>o.headMouseleave(a)},[(0,s._)("img",{src:e.coverImgUrl,onClick:i=>o.goDetail(e.id)},null,8,F),(0,s._)("div",{class:"",ref_for:!0,ref:"playKey"},O,512),(0,s._)("div",C,(0,n.zw)(o.getUpdateTime(e)),1)],40,b),"飙升榜"==e.name?((0,s.wg)(),(0,s.iD)("div",Z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.soaringListTopFive,((i,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,n.C_)(t==l.zero||t%2==0?"even top":"odd top")},[(0,s._)("div",{class:(0,n.C_)({ranking:3==t||4==t,topThree:0==t||1==t||2==t})},(0,n.zw)(t+1),3),(0,s._)("div",q,(0,n.zw)(l.soaringRate[t])+"%",1),(0,s._)("div",{class:"songName",title:o.songNameTitle(i)},[(0,s.Uk)((0,n.zw)(i.name)+" ",1),i.tns?((0,s.wg)(),(0,s.iD)("span",M,"("+(0,n.zw)(i.tns[0])+")",1)):(0,s.kq)("",!0),""==i.alia||i.tns?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",E,"("+(0,n.zw)(i.alia[0])+")",1))],8,K),(0,s._)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.ar,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"songSingers",key:e},[(0,s._)("span",null,(0,n.zw)(t.name),1),e<i.ar.length-1?((0,s.wg)(),(0,s.iD)("span",S,"/")):(0,s.kq)("",!0)])))),128))])],2)))),128))])):(0,s.kq)("",!0),"新歌榜"==e.name?((0,s.wg)(),(0,s.iD)("div",H,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.newSongListTopFive,((i,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,n.C_)(t==l.zero||t%2==0?"even top":"odd top")},[(0,s._)("div",{class:(0,n.C_)({ranking:3==t||4==t,topThree:0==t||1==t||2==t})},(0,n.zw)(t+1),3),U,(0,s._)("div",{class:"songName",title:o.songNameTitle(i)},[(0,s.Uk)((0,n.zw)(i.name)+" ",1),i.tns?((0,s.wg)(),(0,s.iD)("span",Y,"("+(0,n.zw)(i.tns[0])+")",1)):(0,s.kq)("",!0),""==i.alia||i.tns?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",I,"("+(0,n.zw)(i.alia[0])+")",1))],8,x),(0,s._)("div",A,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.ar,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"songSingers",key:e},[(0,s._)("span",null,(0,n.zw)(t.name),1),e<i.ar.length-1?((0,s.wg)(),(0,s.iD)("span",R,"/")):(0,s.kq)("",!0)])))),128))])],2)))),128))])):(0,s.kq)("",!0),"原创榜"==e.name?((0,s.wg)(),(0,s.iD)("div",V,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.originalListTopFive,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a,class:(0,n.C_)(a==l.zero||a%2==0?"even top":"odd top")},[(0,s._)("div",{class:(0,n.C_)({ranking:3==a||4==a,topThree:0==a||1==a||2==a})},(0,n.zw)(a+1),3),(0,s._)("div",W,[((0,s.wg)(),(0,s.iD)("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=(...t)=>i.delHistory&&i.delHistory(...t))},Q))]),(0,s._)("div",{class:"songName",title:o.songNameTitle(e)},[(0,s.Uk)((0,n.zw)(e.name)+" ",1),e.tns?((0,s.wg)(),(0,s.iD)("span",B,"("+(0,n.zw)(e.tns[0])+")",1)):(0,s.kq)("",!0),""==e.alia||e.tns?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",J,"("+(0,n.zw)(e.alia[0])+")",1))],8,P),(0,s._)("div",X,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.ar,((i,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"songSingers",key:t},[(0,s._)("span",null,(0,n.zw)(i.name),1),t<e.ar.length-1?((0,s.wg)(),(0,s.iD)("span",ii,"/")):(0,s.kq)("",!0)])))),128))])],2)))),128))])):(0,s.kq)("",!0),"热歌榜"==e.name?((0,s.wg)(),(0,s.iD)("div",ti,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.hotSongListTopFive,((i,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,n.C_)(t==l.zero||t%2==0?"even top":"odd top")},[(0,s._)("div",{class:(0,n.C_)({ranking:3==t||4==t,topThree:0==t||1==t||2==t})},(0,n.zw)(t+1),3),ei,(0,s._)("div",{class:"songName",title:o.songNameTitle(i)},[(0,s.Uk)((0,n.zw)(i.name)+" ",1),i.tns?((0,s.wg)(),(0,s.iD)("span",ni,"("+(0,n.zw)(i.tns[0])+")",1)):(0,s.kq)("",!0),""==i.alia||i.tns?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",ai,"("+(0,n.zw)(i.alia[0])+")",1))],8,si),(0,s._)("div",li,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.ar,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"songSingers",key:e},[(0,s._)("span",null,(0,n.zw)(t.name),1),e<i.ar.length-1?((0,s.wg)(),(0,s.iD)("span",oi,"/")):(0,s.kq)("",!0)])))),128))])],2)))),128))])):(0,s.kq)("",!0),(0,s._)("div",{class:"viewAll",onClick:i=>o.goDetail(e.id)},di,8,ri)])))),128))])}var pi=e(2884),hi={data(){return{zero:0,temp:[],allLists:[],officialList:[],temporaryTopFive:{},officialListTopFive:[],soaringListTopFive:[],soaringRate:[],newSongListTopFive:[],originalListTopFive:[],hotSongListTopFive:[]}},async mounted(){let i=this.$ls.get("getAllLists","null");if("null"!=i&&(this.allLists=i.data.list),"null"==i){let i=await(0,w.Tr)();this.$ls.set("getAllLists",i,k.Z.state.validityTime),this.allLists=i.data.list}for(var t=0;t<4;t++)this.officialList[t]=this.allLists[t];for(t=0;t<4;t++){let i=await(0,pi._V)(this.officialList[t].id);for(var e=0;e<5;e++)this.temporaryTopFive=i.data.playlist.tracks[e],this.officialListTopFive.push(this.temporaryTopFive)}this.soaringListTopFive=this.officialListTopFive.slice(0,5),this.newSongListTopFive=this.officialListTopFive.slice(5,10),this.originalListTopFive=this.officialListTopFive.slice(10,15),this.hotSongListTopFive=this.officialListTopFive.slice(15,20);let s=await(0,pi._V)(this.officialList[0].id);this.temp=s.data.playlist.trackIds.slice(0,5);for(t=0;t<5;t++)this.soaringRate.push(this.temp[t].ratio);await(0,pi._V)(this.officialList[1].id),await(0,pi._V)(this.officialList[2].id)},methods:{getUpdateTime(i){var t=new Date(i.updateTime),e=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,s=t.getDate()<10?"0"+t.getDate():t.getDate();return e+"月"+s+"日更新"},headMouseover(i){this.$refs.playKey[i].classList="playBox"},headMouseleave(i){this.$refs.playKey[i].classList=""},songNameTitle(i){return i.tns?i.name+"（"+i.tns[0]+"）":i.tns||""==i.alia?i.name:i.name+"（"+i.alia[0]+"）"},goDetail(i){this.$router.push({path:"/SongListDetail",query:{id:i,type:1}})}},watch:{hotSongListTopFive(){5===this.hotSongListTopFive.length&&this.$emit("OfficialListLoadingOk",1)}}};const fi=(0,L.Z)(hi,[["render",gi],["__scopeId","data-v-2bc8ea38"]]);var vi=fi,mi=e(2229),ki=(e(9619),e(9242));const wi={class:"big_container"},yi={class:"container"},Li=(0,s.Uk)("载入中...");function _i(i,t,e,n,a,l){const o=mi.g,r=vi,c=T,u=(0,s.up)("lazy-component");return(0,s.wg)(),(0,s.iD)("div",wi,[(0,s._)("div",yi,[(0,s.wy)((0,s.Wm)(o,{vertical:"",type:"spinner"},{default:(0,s.w5)((()=>[Li])),_:1},512),[[ki.F8,1==a.isLoading]]),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{onOfficialListLoadingOk:l.OfficialListLoadingOk},null,8,["onOfficialListLoadingOk"]),(0,s.Wm)(c,{onGlobalListLoadingOk:l.GlobalListLoadingOk},null,8,["onGlobalListLoadingOk"])])),_:1})])])}var Ti={data(){return{isLoading:1,loadingOk1:0,loadingOk2:0}},methods:{OfficialListLoadingOk(i){this.loadingOk1=i},GlobalListLoadingOk(i){this.loadingOk2=i}},components:{OfficialList:vi,GlobalList:T},watch:{loadingOk1(){1==this.loadingOk1&&1==this.loadingOk2&&(this.isLoading=0)},loadingOk2(){1==this.loadingOk1&&1==this.loadingOk2&&(this.isLoading=0)}}};const Di=(0,L.Z)(Ti,[["render",_i],["__scopeId","data-v-3d902af4"]]);var zi=Di}}]);
//# sourceMappingURL=668.d9246132.js.map