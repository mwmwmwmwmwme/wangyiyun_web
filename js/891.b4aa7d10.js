"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[891],{4376:function(e,t,s){s.d(t,{Fk:function(){return h},I3:function(){return o},XI:function(){return a},d4:function(){return c},dX:function(){return u},e_:function(){return p},hi:function(){return n},mf:function(){return i},n1:function(){return m},nz:function(){return l},rC:function(){return d}});var r=s(7344);function n(e,t,s){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}}&type=1&limit=${t}&offset=${s}`})}function i(e,t){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}&type=100&limit=${20*t}`})}function a(e,t,s){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}&type=10&limit=${t}&offset=${s}`})}function o(e,t,s){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}&type=1014&limit=${t}&offset=${s}`})}function l(e,t,s){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}&type=1000&limit=${t}&offset=${s}`})}function u(e,t,s){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}&type=1006&limit=${t}&offset=${s}`})}function c(e){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}&type=1009`})}function d(e,t,s){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}&type=2000&limit=${t}&offset=${s}`})}function m(e,t,s){return(0,r.Z)({method:"GET",url:`/search?keywords=${e}&type=1002&limit=${t}&offset=${s}`})}function h(e,t){return(0,r.Z)({method:"GET",url:`/artist/detail?id=${e}&cookie=${t}`})}function p(e,t){return(0,r.Z)({method:"GET",url:`/artist/follow/count?id=${e}&cookie=${t}`})}},3891:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var r=s(1132),n=(s(4484),s(2229)),i=(s(9619),s(3396)),a=s(9242),o=s(7139);const l=e=>((0,i.dD)("data-v-3b0bd8f6"),e=e(),(0,i.Cn)(),e),u={class:"users"},c=(0,i.Uk)("载入中..."),d={class:"userprofileCount"},m=["onClick"],h={class:"head"},p=["src"],f={key:0,class:"identityIcon"},g=["src"],v={class:"userName"},y={class:"nickName"},k=["innerHTML"],w={class:"gender"},$={key:0,class:"m"},b=l((()=>(0,i._)("svg",{class:"icon","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-xingbienan"})],-1))),x=[b],C={key:1,class:"w"},_=l((()=>(0,i._)("svg",{class:"icon","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-xingbienv"})],-1))),D=[_],T={class:"describeBox"},U={key:0,class:"describe"},I={key:1,class:"describe"},V={key:2,class:"describe"},S=l((()=>(0,i._)("span",null,"网易音乐人",-1))),Z=[S];function E(e,t,s,l,b,_){const S=n.g,E=r.t,H=(0,i.Q2)("lazy");return(0,i.wg)(),(0,i.iD)("div",u,[(0,i.wy)((0,i.Wm)(S,{vertical:"",type:"spinner"},{default:(0,i.w5)((()=>[c])),_:1},512),[[a.F8,1==b.isLoading]]),(0,i._)("div",d,"找到"+(0,o.zw)(b.userprofileCount)+"位用户",1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.users,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:(0,o.C_)(t==b.zero||t%2==0?"even user":"odd user"),onClick:e=>_.gotoPersonalHome(t)},[(0,i._)("div",h,[(0,i._)("img",{src:e.avatarUrl,alt:""},null,8,p),e.avatarDetail?((0,i.wg)(),(0,i.iD)("div",f,[(0,i.wy)((0,i._)("img",{src:e.avatarDetail.identityIconUrl,alt:""},null,8,g),[[H,e.avatarDetail.identityIconUrl]])])):(0,i.kq)("",!0)]),(0,i._)("div",v,[(0,i._)("span",y,(0,o.zw)(_.activeUserName(e.nickname)),1),1==this.isVHtmlUserName?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"nickName",innerHTML:b.vHtmlUserName},null,8,k)):(0,i.kq)("",!0),(0,i._)("div",w,[1==e.gender?((0,i.wg)(),(0,i.iD)("div",$,x)):(0,i.kq)("",!0),2==e.gender?((0,i.wg)(),(0,i.iD)("div",C,D)):(0,i.kq)("",!0)])]),(0,i._)("div",T,[e.description?((0,i.wg)(),(0,i.iD)("div",U,[(0,i._)("span",null,(0,o.zw)(e.description),1)])):(0,i.kq)("",!0),!e.signature||e.description||e.avatarDetail?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("span",null,(0,o.zw)(e.signature),1)])),e.avatarDetail&&4==e.avatarDetail.userType?((0,i.wg)(),(0,i.iD)("div",V,Z)):(0,i.kq)("",!0)])],10,m)))),128)),(0,i.Wm)(E,{class:"pagination",onChange:_.pageChange,modelValue:b.currentPage,"onUpdate:modelValue":t[0]||(t[0]=e=>b.currentPage=e),"prev-text":"<","next-text":">","total-items":b.userprofileCount,"show-page-size":9,"items-per-page":b.limit,"force-ellipses":""},null,8,["onChange","modelValue","total-items","items-per-page"])])}var H=s(4239),P=s(4376),N={data(){return{isLoading:1,limit:20,offset:0,currentPage:1,users:[],zero:0,searchKey:"",userprofileCount:0,vHtmlUserName:"",isVHtmlUserName:0}},mounted(){this.searchKey=H.Z.state.searchKey,sessionStorage.getItem("searchKey")&&this.getSearchUser()},methods:{async getSearchUser(){let e=await(0,P.n1)(sessionStorage.getItem("searchKey"),this.limit,this.offset);this.userprofileCount=e.data.result.userprofileCount,this.users=e.data.result.userprofiles,0!==this.users.length&&(this.isLoading=0)},pageChange(){this.offset=(this.currentPage-1)*this.limit,this.getSearchUser()},activeUserName(e){let t=new RegExp(this.searchKey,"g"),s='<span style="color: rgb(27, 94, 195)">'+this.searchKey+"</span>";return e=e.replace(t,s),-1==e.indexOf(this.searchKey)?(this.isVHtmlUserName=0,e):(this.isVHtmlUserName=1,this.vHtmlUserName=e,"")},gotoPersonalHome(e){this.$router.push({path:"/PersonalHome",query:{userId:this.users[e].userId}})}}},z=s(89);const G=(0,z.Z)(N,[["render",E],["__scopeId","data-v-3b0bd8f6"]]);var W=G},1132:function(e,t,s){s.d(t,{t:function(){return g}});var r=s(1404),n=s(3396),i=s(610),a=s(5323),o=s(6048);const l="van-hairline",u=`${l}--surround`,[c,d,m]=(Symbol("van-form"),(0,i["do"])("pagination")),h=(e,t,s)=>({number:e,text:t,active:s}),p={mode:(0,a.SQ)("multi"),prevText:String,nextText:String,pageCount:(0,a.SI)(0),modelValue:(0,a.qM)(0),totalItems:(0,a.SI)(0),showPageSize:(0,a.SI)(5),itemsPerPage:(0,a.SI)(10),forceEllipses:Boolean};var f=(0,n.aZ)({name:c,props:p,emits:["change","update:modelValue"],setup(e,{emit:t,slots:s}){const r=(0,n.Fl)((()=>{const{pageCount:t,totalItems:s,itemsPerPage:r}=e,n=+t||Math.ceil(+s/+r);return Math.max(1,n)})),i=(0,n.Fl)((()=>{const t=[],s=r.value,n=+e.showPageSize,{modelValue:i,forceEllipses:a}=e;let o=1,l=s;const u=n<s;u&&(o=Math.max(i-Math.floor(n/2),1),l=o+n-1,l>s&&(l=s,o=l-n+1));for(let e=o;e<=l;e++){const s=h(e,e,e===i);t.push(s)}if(u&&n>0&&a){if(o>1){const e=h(o-1,"...");t.unshift(e)}if(l<s){const e=h(l+1,"...");t.push(e)}}return t})),a=(s,n)=>{s=(0,o.uZ)(s,1,r.value),e.modelValue!==s&&(t("update:modelValue",s),n&&t("change",s))};(0,n.m0)((()=>a(e.modelValue)));const l=()=>(0,n.Wm)("li",{class:d("page-desc")},[s.pageDesc?s.pageDesc():`${e.modelValue}/${r.value}`]),c=()=>{const{mode:t,modelValue:r}=e,i=s["prev-text"],o=1===r;return(0,n.Wm)("li",{class:[d("item",{disabled:o,border:"simple"===t,prev:!0}),u]},[(0,n.Wm)("button",{type:"button",disabled:o,onClick:()=>a(r-1,!0)},[i?i():e.prevText||m("prev")])])},p=()=>{const{mode:t,modelValue:i}=e,o=s["next-text"],l=i===r.value;return(0,n.Wm)("li",{class:[d("item",{disabled:l,border:"simple"===t,next:!0}),u]},[(0,n.Wm)("button",{type:"button",disabled:l,onClick:()=>a(i+1,!0)},[o?o():e.nextText||m("next")])])},f=()=>i.value.map((e=>(0,n.Wm)("li",{class:[d("item",{active:e.active,page:!0}),u]},[(0,n.Wm)("button",{type:"button","aria-current":e.active||void 0,onClick:()=>a(e.number,!0)},[s.page?s.page(e):e.text])])));return()=>(0,n.Wm)("nav",{role:"navigation",class:d()},[(0,n.Wm)("ul",{class:d("items")},[c(),"simple"===e.mode?l():f(),p()])])}});const g=(0,r.n)(f)},4484:function(e,t,s){s(1958)}}]);
//# sourceMappingURL=891.b4aa7d10.js.map