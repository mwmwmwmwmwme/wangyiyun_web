"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[389],{9923:function(t,n,e){e.d(n,{AM:function(){return _},CF:function(){return p},Gu:function(){return y},H6:function(){return s},J_:function(){return l},Kh:function(){return m},Q:function(){return v},Qc:function(){return d},Tr:function(){return c},Uf:function(){return r},Vb:function(){return L},ad:function(){return u},jq:function(){return w},p1:function(){return k},t:function(){return g},tD:function(){return f},tn:function(){return i},vw:function(){return a},wq:function(){return h}});var o=e(7344);function i(){return(0,o.Z)({method:"GET",url:"/homepage/block/page"})}function s(){return(0,o.Z)({method:"GET",url:"/playlist/catlist"})}function r(){return(0,o.Z)({method:"GET",url:"/playlist/hot"})}function a(t,n,e){return(0,o.Z)({method:"GET",url:`/top/playlist?cat=${t}&limit=${n}&offset=${e}`})}function l(){return(0,o.Z)({method:"GET",url:"/playlist/highquality/tags"})}function u(t){return(0,o.Z)({method:"GET",url:`/top/playlist/highquality?cat=${t}`})}function c(){return(0,o.Z)({method:"GET",url:"/toplist"})}function d(t){return(0,o.Z)({method:"GET",url:`/top/song?type=${t}`})}function f(t,n){return(0,o.Z)({method:"GET",url:`/top/album?offset=0&limit=30&area=${t}&type=${n}`})}function h(t,n,e){return(0,o.Z)({method:"GET",url:`/artist/list?type=${t}&area=${n}&initial=${e}&offset=0&limit=100`})}function g(t){return(0,o.Z)({method:"GET",url:`/recommend/resource?cookie=${t}`})}function p(t){return(0,o.Z)({method:"GET",url:`/recommend/songs?cookie=${t}`})}function m(t){return(0,o.Z)({method:"GET",url:`/personalized?limit=${t}`})}function y(t){return(0,o.Z)({method:"GET",url:`/dj/hot?limit=${t}`})}function v(){return(0,o.Z)({method:"GET",url:"/personalized/privatecontent"})}function _(t,n){return(0,o.Z)({method:"GET",url:`/personalized/privatecontent/list?limit=${t}&offset=${n}`})}function L(){return(0,o.Z)({method:"GET",url:"/personalized/mv"})}function w(t){return(0,o.Z)({method:"GET",url:`/history/recommend/songs?cookie=${t}`})}function k(t,n){return(0,o.Z)({method:"GET",url:`/history/recommend/songs/detail?date=${n}&cookie=${t}`})}},7389:function(t,n,e){e.r(n),e.d(n,{default:function(){return et}});var o=e(3396),i=e(7139);const s=t=>((0,o.dD)("data-v-0f4cf635"),t=t(),(0,o.Cn)(),t),r={class:"musicHoliday"},a=s((()=>(0,o._)("div",{class:"title"},[(0,o._)("span",null,"夕阳无限好")],-1))),l={class:"lists",ref:"lists"},u=["onMouseenter","onMouseleave"],c=["src","onClick"],d=s((()=>(0,o._)("svg",{class:"icon","aria-hidden":"true"},[(0,o._)("use",{"xlink:href":"#icon-bofang1"})],-1))),f=[d],h={class:"playCount"},g=s((()=>(0,o._)("svg",{class:"icon","aria-hidden":"true"},[(0,o._)("use",{"xlink:href":"#icon-bofang2"})],-1))),p={class:"list_name"},m=["onClick"];function y(t,n,e,s,d,y){const v=(0,o.Q2)("lazy");return(0,o.wg)(),(0,o.iD)("div",r,[a,(0,o._)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.recommendedSongList,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)((n+1)%5==0?"listRight list":"list"),key:t.id},[(0,o._)("div",{class:"head_box",onMouseenter:t=>y.playKeyMouseenter(n),onMouseleave:t=>y.playKeyMouseleave(n)},[(0,o.wy)((0,o._)("img",{src:t.picUrl,onClick:n=>y.goDetail(t.id)},null,8,c),[[v,t.picUrl]]),(0,o._)("div",{class:"",ref_for:!0,ref:"playKey"},f,512),(0,o._)("div",h,[g,(0,o._)("span",null,(0,i.zw)(y.formatCount(t.playCount)),1)])],40,u),(0,o._)("div",p,[(0,o._)("span",{onClick:n=>y.goDetail(t.id)},(0,i.zw)(t.name),9,m)])],2)))),128))],512)])}var v=e(9923),_={data(){return{recommendedSongList:[],total:0,once:10,countOfRender:30,resData:[]}},props:["scrollTop"],async mounted(){const t=await(0,v.Kh)(100);this.resData=t.data.result,this.total=this.resData.length,this.recommendedSongList=this.resData.slice(0,30),this.countOfRender=30,this.recommendedSongList.length>0&&this.$emit("isLoadingOk",1)},methods:{playKeyMouseenter(t){this.$refs.playKey[t].classList="playKey"},playKeyMouseleave(t){this.$refs.playKey[t].classList="playKey1"},goDetail(t){this.$router.push({path:"/SongListDetail",query:{id:t,type:1}})},formatCount(t){return this.$formatCount(t)},async scrollLoad(){const t=[];for(let n=0;n<this.once;n++){if(this.countOfRender>=this.total)return;t.push(this.resData[this.countOfRender]),this.countOfRender+=1}this.recommendedSongList=this.recommendedSongList.concat(t)}},watch:{scrollTop(){this.scrollLoad()}}},L=e(89);const w=(0,L.Z)(_,[["render",y],["__scopeId","data-v-0f4cf635"]]);var k=w;const b=t=>((0,o.dD)("data-v-a9c110ac"),t=t(),(0,o.Cn)(),t),$={key:0,class:"radarSongList"},S={class:"top"},C={class:"userName"},T=b((()=>(0,o._)("div",{class:"tips"},[(0,o._)("span",null,"根据你的红心收藏为你推荐更多宝藏歌曲")],-1))),D={class:"icon iconPrevious","aria-hidden":"true",ref:"iconPrevious"},K=b((()=>(0,o._)("use",{"xlink:href":"#icon-zuojiantou1"},null,-1))),x=[K],Z={class:"icon iconNext","aria-hidden":"true",ref:"iconNext"},E=b((()=>(0,o._)("use",{"xlink:href":"#icon-youjiantou1"},null,-1))),G=[E],M={class:"listsBox"},O={class:"lists",ref:"lists"},z=["onMouseenter","onMouseleave"],I=["src","onClick"],N=b((()=>(0,o._)("svg",{class:"icon","aria-hidden":"true"},[(0,o._)("use",{"xlink:href":"#icon-bofang1"})],-1))),q=[N],P={class:"playCount"},R=b((()=>(0,o._)("svg",{class:"icon","aria-hidden":"true"},[(0,o._)("use",{"xlink:href":"#icon-bofang2"})],-1))),U={class:"list_name"},F=["onClick"];function H(t,n,e,s,r,a){const l=(0,o.Q2)("lazy");return r.isShow?((0,o.wg)(),(0,o.iD)("div",$,[(0,o._)("div",S,[(0,o._)("div",C,[(0,o._)("span",null,(0,i.zw)(r.userNickname)+"的雷达歌单",1)]),T,(0,o._)("div",{class:"button buttonPrevious",ref:"buttonPrevious",onClick:n[0]||(n[0]=(...t)=>a.previousSongList&&a.previousSongList(...t))},[((0,o.wg)(),(0,o.iD)("svg",D,x,512))],512),(0,o._)("div",{class:"button buttonNext",ref:"buttonNext",onClick:n[1]||(n[1]=(...t)=>a.nextSongList&&a.nextSongList(...t))},[((0,o.wg)(),(0,o.iD)("svg",Z,G,512))],512)]),(0,o._)("div",M,[(0,o._)("div",O,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.radarSongList,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"list",key:t.id},[(0,o._)("div",{class:"head_box",onMouseenter:t=>a.playKeyMouseenter(n),onMouseleave:t=>a.playKeyMouseleave(n)},[(0,o.wy)((0,o._)("img",{src:t.picUrl,onClick:n=>a.goDetail(t.id)},null,8,I),[[l,t.picUrl]]),(0,o._)("div",{class:"",ref_for:!0,ref:"playKey"},q,512),(0,o._)("div",P,[R,(0,o._)("span",null,(0,i.zw)(a.formatCount(t.playcount)),1)])],40,z),(0,o._)("div",U,[(0,o._)("span",{onClick:n=>a.goDetail(t.id)},(0,i.zw)(t.name),9,F)])])))),128))],512)])])):(0,o.kq)("",!0)}var j={data(){return{isShow:0,userNickname:"",radarSongList:[],nowLocation:0}},async mounted(){this.isShow=sessionStorage.getItem("cookie")?1:0,this.userNickname=sessionStorage.getItem("userInfo")?JSON.parse(sessionStorage.getItem("userInfo")).nickname:"未登录";const t=await(0,v.t)(sessionStorage.getItem("cookie"));this.radarSongList=t.data.recommend},methods:{playKeyMouseenter(t){this.$refs.playKey[t].classList="playKey"},playKeyMouseleave(t){this.$refs.playKey[t].classList="playKey1"},goDetail(t){this.$router.push({path:"/SongListDetail",query:{id:t,type:1}})},formatCount(t){return this.$formatCount(t)},nextSongList(){this.nowLocation!==-223*(this.radarSongList.length-5)&&(this.nowLocation-=223,this.$refs.lists.style.transform="translateX("+this.nowLocation+"px)")},previousSongList(){0!==this.nowLocation&&(this.nowLocation+=223,this.$refs.lists.style.transform="translateX("+this.nowLocation+"px)")}},watch:{nowLocation(){this.nowLocation===-223*(this.radarSongList.length-5)?(this.$refs.buttonNext.style.backgroundColor="#f5f5f5",this.$refs.iconNext.style.fill="#a9a9a9"):0===this.nowLocation?(this.$refs.buttonPrevious.style.backgroundColor="#f5f5f5",this.$refs.iconPrevious.style.fill="#a9a9a9"):(this.$refs.buttonNext.style.backgroundColor="#ebebeb",this.$refs.iconNext.style.fill="#3b3b3b",this.$refs.iconPrevious.style.fill="#3b3b3b")}}};const Q=(0,L.Z)(j,[["render",H],["__scopeId","data-v-a9c110ac"]]);var W=Q,J=e(2229),X=(e(9619),e(9242));const Y={class:"big_container",ref:"big_container"},A={class:"container"},B=(0,o.Uk)("载入中...");function V(t,n,e,i,s,r){const a=J.g,l=W,u=k,c=(0,o.up)("lazy-component");return(0,o.wg)(),(0,o.iD)("div",Y,[(0,o._)("div",A,[(0,o.wy)((0,o.Wm)(a,{vertical:"",type:"spinner"},{default:(0,o.w5)((()=>[B])),_:1},512),[[X.F8,1==s.isLoading]]),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l),(0,o.Wm)(u,{onIsLoadingOk:r.getIsLoadingOk,scrollTop:s.scrollTop},null,8,["onIsLoadingOk","scrollTop"])])),_:1})])],512)}var tt={data(){return{isLoading:1,isLoadingOK:0,scrollTop:0}},created(){this.listenerFunction()},beforeDestroy(){document.removeEventListener("scroll",this.listenerFunction)},components:{RadarSongList:W,MusicHoliday:k},methods:{listenerFunction(t){document.addEventListener("scroll",this.handleScroll,!0)},handleScroll(){let t=this.$refs.big_container.scrollTop;t%500===0&&(this.scrollTop=t)},getIsLoadingOk(t){this.isLoadingOK=t}},watch:{isLoadingOK(){this.isLoading=1==this.isLoadingOK?0:1}}};const nt=(0,L.Z)(tt,[["render",V],["__scopeId","data-v-58713882"]]);var et=nt}}]);
//# sourceMappingURL=389.7f62024a.js.map