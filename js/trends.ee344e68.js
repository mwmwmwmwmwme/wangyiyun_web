"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[767],{9279:function(s,i,n){n.d(i,{EY:function(){return t},Hg:function(){return o},Nq:function(){return l},QH:function(){return r},nk:function(){return a}});var e=n(7344);function t(s){return(0,e.Z)({method:"GET",url:`/event?cookie=${s}`})}function a(s){return(0,e.Z)({method:"GET",url:`/hot/topic?cookie=${s}`})}function o(s,i,n){return(0,e.Z)({method:"GET",url:`/user/follows?uid=${s}&limit=${i}&cookie=${n}`})}function l(s,i,n){return(0,e.Z)({method:"GET",url:`/user/followeds?uid=${s}&limit=${i}&cookie=${n}`})}function r(s,i,n){return(0,e.Z)({method:"GET",url:`/user/event?uid=${s}&limit=${i}&cookie=${n}`})}},3626:function(s,i,n){n.r(i),n.d(i,{default:function(){return Ps}});var e=n(2229),t=(n(9619),n(3396)),a=n(7139),o=n(9242);const l=s=>((0,t.dD)("data-v-5dc679bc"),s=s(),(0,t.Cn)(),s),r={class:"container"},c={class:"titleTop"},u=(0,t.Uk)("载入中..."),d={class:"events"},g={class:"songEvent_top"},p={class:"head_box"},v=["src","onClick"],_={class:"songEvent_top_right"},m={class:"singer"},k=["onClick"],h={key:0,class:"share"},y={key:1,class:"share"},w={class:"time"},f={class:"songEvent_middle"},D={class:"description"},C=["onClick"],q={key:0,class:"song_left"},z={class:"song_head_box"},U=["src"],H=["src"],L=l((()=>(0,t._)("div",{class:"playKey"},[(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-yousanjiao"})])],-1))),x={key:1,class:"songInfo"},b={key:0,class:"songName"},I={key:1,class:"songListName"},P=l((()=>(0,t._)("div",{class:"songListTag"},[(0,t._)("span",null,"歌单")],-1))),E={key:2,class:"songSingers"},$={key:0,class:"diagonal"},J={key:3,class:"songListSinger"},j={key:0,class:"picOne"},N=["src"],T={key:1,class:"picFour"},K=["src"],Y={key:2,class:"picNine"},S=["src"],F={class:"songEvent_bottom"},B={class:"likedCount"},Z=l((()=>(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-dianzan"})],-1))),G=l((()=>(0,t._)("span",{class:"verticalLine"},"|",-1))),M={class:"shareCount"},O=l((()=>(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-zhuanfa-mian"})],-1))),Q=l((()=>(0,t._)("span",{class:"verticalLine"},"|",-1))),W={class:"commentCount"},A=l((()=>(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-kuaisuhuifu"})],-1))),R=l((()=>(0,t._)("span",{class:"verticalLine"},"|",-1))),V=l((()=>(0,t._)("div",{class:"more"},[(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-sangedian"})])],-1))),X={class:"trendsEvent_top"},ss={class:"head_box"},is=["src","onClick"],ns={class:"songEvent_top_right"},es={class:"singer"},ts=["onClick"],as=l((()=>(0,t._)("span",{class:"share"},"发布动态",-1))),os={class:"time"},ls={class:"trendsEvent_middle"},rs={class:"description"},cs={key:0,class:"picOne"},us=["src"],ds={key:1,class:"picFour"},gs=["src"],ps={key:2,class:"picNine"},vs=["src"],_s={class:"trendsEvent_bottom"},ms={class:"likedCount"},ks=l((()=>(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-dianzan"})],-1))),hs=l((()=>(0,t._)("span",{class:"verticalLine"},"|",-1))),ys={class:"shareCount"},ws=l((()=>(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-zhuanfa-mian"})],-1))),fs=l((()=>(0,t._)("span",{class:"verticalLine"},"|",-1))),Ds={class:"commentCount"},Cs=l((()=>(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-kuaisuhuifu"})],-1))),qs=l((()=>(0,t._)("span",{class:"verticalLine"},"|",-1))),zs=l((()=>(0,t._)("div",{class:"more"},[(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-sangedian"})])],-1)));function Us(s,i,n,l,Us,Hs){const Ls=e.g,xs=(0,t.Q2)("lazy");return(0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",c,[(0,t._)("span",null,(0,a.zw)(Us.nickname)+"的动态",1)]),(0,t.wy)((0,t.Wm)(Ls,{vertical:"",type:"spinner"},{default:(0,t.w5)((()=>[u])),_:1},512),[[o.F8,1==Us.isLoading]]),(0,t._)("div",d,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Us.events,((s,i)=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:"event songEvent",key:s.id},[(0,t._)("div",g,[(0,t._)("div",p,[(0,t.wy)((0,t._)("img",{src:s.user.avatarUrl,onClick:i=>Hs.gotoPersonalHome(s.user.userId)},null,8,v),[[xs,s.user.avatarUrl]])]),(0,t._)("div",_,[(0,t._)("div",m,[(0,t._)("span",{class:"singerName",onClick:i=>Hs.gotoPersonalHome(s.user.userId)},(0,a.zw)(s.user.nickname),9,k),18==s.type?((0,t.wg)(),(0,t.iD)("span",h,"分享单曲")):(0,t.kq)("",!0),13==s.type?((0,t.wg)(),(0,t.iD)("span",y,"分享歌单")):(0,t.kq)("",!0)]),(0,t._)("div",w,[(0,t._)("span",null,(0,a.zw)(Hs.formatPublishTime(s.showTime)),1)])])]),(0,t._)("div",f,[(0,t._)("div",D,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Hs.formatDescription(Hs.formatJson(s.json).msg),((s,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"description_item",key:i},[(0,t._)("span",null,(0,a.zw)(s),1)])))),128))]),(0,t._)("div",{class:"song",onClick:i=>Hs.eventClick(s)},[18==s.type||13==s.type?((0,t.wg)(),(0,t.iD)("div",q,[(0,t._)("div",z,[18==s.type?(0,t.wy)(((0,t.wg)(),(0,t.iD)("img",{key:0,src:Hs.formatJson(s.json).song.album.blurPicUrl},null,8,U)),[[xs,Hs.formatJson(s.json).song.album.blurPicUrl]]):(0,t.kq)("",!0),13==s.type?(0,t.wy)(((0,t.wg)(),(0,t.iD)("img",{key:1,src:Hs.formatJson(s.json).playlist.coverImgUrl},null,8,H)),[[xs,Hs.formatJson(s.json).playlist.coverImgUrl]]):(0,t.kq)("",!0),L])])):(0,t.kq)("",!0),18==s.type||13==s.type?((0,t.wg)(),(0,t.iD)("div",x,[18==s.type?((0,t.wg)(),(0,t.iD)("div",b,[(0,t._)("span",null,(0,a.zw)(Hs.formatJson(s.json).song.name),1)])):(0,t.kq)("",!0),13==s.type?((0,t.wg)(),(0,t.iD)("div",I,[P,(0,t._)("span",null,(0,a.zw)(Hs.formatJson(s.json).playlist.name),1)])):(0,t.kq)("",!0),18==s.type?((0,t.wg)(),(0,t.iD)("div",E,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Hs.formatJson(s.json).song.artists,((i,n)=>((0,t.wg)(),(0,t.iD)("span",{key:i.id},[(0,t.Uk)((0,a.zw)(i.name)+" ",1),n<Hs.formatJson(s.json).song.artists.length-1?((0,t.wg)(),(0,t.iD)("span",$,"/")):(0,t.kq)("",!0)])))),128))])):(0,t.kq)("",!0),13==s.type?((0,t.wg)(),(0,t.iD)("div",J,"by "+(0,a.zw)(Hs.formatJson(s.json).playlist.creator.nickname),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)],8,C),1==s.pics.length?((0,t.wg)(),(0,t.iD)("div",j,[(0,t.wy)((0,t._)("img",{src:s.pics[0].originUrl},null,8,N),[[xs,s.pics[0].originUrl]])])):(0,t.kq)("",!0),4==s.pics.length?((0,t.wg)(),(0,t.iD)("div",T,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.pics,((s,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"picBoxFour",key:i},[(0,t.wy)((0,t._)("img",{src:s.originUrl},null,8,K),[[xs,s.originUrl]])])))),128))])):(0,t.kq)("",!0),9==s.pics.length?((0,t.wg)(),(0,t.iD)("div",Y,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.pics,((s,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"picBoxNine",key:i},[(0,t.wy)((0,t._)("img",{src:s.originUrl},null,8,S),[[xs,s.originUrl]])])))),128))])):(0,t.kq)("",!0)]),(0,t._)("div",F,[(0,t._)("div",B,[Z,(0,t._)("span",null,"("+(0,a.zw)(s.info.likedCount||0)+")",1)]),G,(0,t._)("div",M,[O,(0,t._)("span",null,"("+(0,a.zw)(s.info.shareCount||0)+")",1)]),Q,(0,t._)("div",W,[A,(0,t._)("span",null,"("+(0,a.zw)(s.info.commentCount||0)+")",1)]),R,V])])),[[o.F8,18==s.type||13==s.type]]))),128)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Us.events,((s,i)=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:"event trendsEvent",key:s.id},[(0,t._)("div",X,[(0,t._)("div",ss,[(0,t.wy)((0,t._)("img",{src:s.user.avatarUrl,onClick:i=>Hs.gotoPersonalHome(s.user.userId)},null,8,is),[[xs,s.user.avatarUrl]])]),(0,t._)("div",ns,[(0,t._)("div",es,[(0,t._)("span",{class:"singerName",onClick:i=>Hs.gotoPersonalHome(s.user.userId)},(0,a.zw)(s.user.nickname),9,ts),as]),(0,t._)("div",os,[(0,t._)("span",null,(0,a.zw)(Hs.formatPublishTime(s.showTime)),1)])])]),(0,t._)("div",ls,[(0,t._)("div",rs,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Hs.formatDescription(Hs.formatJson(s.json).msg),((s,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"description_item",key:i},[(0,t._)("span",null,(0,a.zw)(s),1)])))),128))]),1==s.pics.length?((0,t.wg)(),(0,t.iD)("div",cs,[(0,t.wy)((0,t._)("img",{src:s.pics[0].originUrl},null,8,us),[[xs,s.pics[0].originUrl]])])):(0,t.kq)("",!0),4==s.pics.length?((0,t.wg)(),(0,t.iD)("div",ds,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.pics,((s,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"picBoxFour",key:i},[(0,t.wy)((0,t._)("img",{src:s.originUrl},null,8,gs),[[xs,s.originUrl]])])))),128))])):(0,t.kq)("",!0),9==s.pics.length?((0,t.wg)(),(0,t.iD)("div",ps,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.pics,((s,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"picBoxNine",key:i},[(0,t.wy)((0,t._)("img",{src:s.originUrl},null,8,vs),[[xs,s.originUrl]])])))),128))])):(0,t.kq)("",!0)]),(0,t._)("div",_s,[(0,t._)("div",ms,[ks,(0,t._)("span",null,"("+(0,a.zw)(s.info.likedCount||0)+")",1)]),hs,(0,t._)("div",ys,[ws,(0,t._)("span",null,"("+(0,a.zw)(s.info.shareCount||0)+")",1)]),fs,(0,t._)("div",Ds,[Cs,(0,t._)("span",null,"("+(0,a.zw)(s.info.commentCount||0)+")",1)]),qs,zs])])),[[o.F8,35==s.type]]))),128))])])}var Hs=n(9279),Ls=n(65),xs={data(){return{isLoading:1,nickname:"",events:[]}},async mounted(){this.id=this.$route.query.id,this.nickname=this.$route.query.nickname,this.limit=this.$route.query.limit;const s=await(0,Hs.QH)(this.id,this.limit,sessionStorage.getItem("cookie"));this.events=s.data.events,this.events.length>0&&(this.isLoading=0)},methods:{gotoPersonalHome(s){this.$router.push({path:"/PersonalHome",query:{userId:s}})},eventClick(s){if(18==s.type){let i=[];i.push(this.formatJson(s.json).song),this.updateIsPlayBox(1),this.updatePlayList(i),this.updateSongListName("动态"),this.updateSongListId(0),this.updatePlayListIndex(0)}13==s.type&&this.$router.push({path:"/SongListDetail",query:{id:this.formatJson(s.json).playlist.id,type:1}})},formatPublishTime(s){const i=new Date(s),n=i.getMonth()+1,e=i.getDate()<10?"0"+i.getDate():i.getDate(),t=i.getHours()<10?"0"+i.getHours():i.getHours(),a=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),o=(new Date).getMonth(),l=(new Date).getDate();return n==o+1&&e==l?t+":"+a:n+"月"+e+"日 "+t+":"+a},formatJson(s){return JSON.parse(s)},formatDescription(s){let i;return i=s.split(/[(\r\n)\r\n]+/).map((s=>s)),i},...(0,Ls.OI)(["updateIsPlayBox","updatePlayList","updateSongListName","updateSongListId","updatePlayListIndex","updateDuration"])}},bs=n(89);const Is=(0,bs.Z)(xs,[["render",Us],["__scopeId","data-v-5dc679bc"]]);var Ps=Is}}]);
//# sourceMappingURL=trends.ee344e68.js.map