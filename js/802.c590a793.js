"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[802],{9923:function(t,i,n){n.d(i,{AM:function(){return _},CF:function(){return p},Gu:function(){return v},H6:function(){return r},J_:function(){return l},Kh:function(){return f},Q:function(){return y},Qc:function(){return d},Tr:function(){return u},Uf:function(){return s},Vb:function(){return w},ad:function(){return c},jq:function(){return T},p1:function(){return k},t:function(){return m},tD:function(){return h},tn:function(){return a},vw:function(){return o},wq:function(){return g}});var e=n(7344);function a(){return(0,e.Z)({method:"GET",url:"/homepage/block/page"})}function r(){return(0,e.Z)({method:"GET",url:"/playlist/catlist"})}function s(){return(0,e.Z)({method:"GET",url:"/playlist/hot"})}function o(t,i,n){return(0,e.Z)({method:"GET",url:`/top/playlist?cat=${t}&limit=${i}&offset=${n}`})}function l(){return(0,e.Z)({method:"GET",url:"/playlist/highquality/tags"})}function c(t){return(0,e.Z)({method:"GET",url:`/top/playlist/highquality?cat=${t}`})}function u(){return(0,e.Z)({method:"GET",url:"/toplist"})}function d(t){return(0,e.Z)({method:"GET",url:`/top/song?type=${t}`})}function h(t,i){return(0,e.Z)({method:"GET",url:`/top/album?offset=0&limit=30&area=${t}&type=${i}`})}function g(t,i,n){return(0,e.Z)({method:"GET",url:`/artist/list?type=${t}&area=${i}&initial=${n}&offset=0&limit=100`})}function m(t){return(0,e.Z)({method:"GET",url:`/recommend/resource?cookie=${t}`})}function p(t){return(0,e.Z)({method:"GET",url:`/recommend/songs?cookie=${t}`})}function f(t){return(0,e.Z)({method:"GET",url:`/personalized?limit=${t}`})}function v(t){return(0,e.Z)({method:"GET",url:`/dj/hot?limit=${t}`})}function y(){return(0,e.Z)({method:"GET",url:"/personalized/privatecontent"})}function _(t,i){return(0,e.Z)({method:"GET",url:`/personalized/privatecontent/list?limit=${t}&offset=${i}`})}function w(){return(0,e.Z)({method:"GET",url:"/personalized/mv"})}function T(t){return(0,e.Z)({method:"GET",url:`/history/recommend/songs?cookie=${t}`})}function k(t,i){return(0,e.Z)({method:"GET",url:`/history/recommend/songs/detail?date=${i}&cookie=${t}`})}},5802:function(t,i,n){n.r(i),n.d(i,{default:function(){return B}});var e=n(2229),a=(n(9619),n(3396)),r=n(9242),s=n(7139);const o=t=>((0,a.dD)("data-v-1609b1b9"),t=t(),(0,a.Cn)(),t),l=(0,a.Uk)("请求数据中..."),c={class:"singerList"},u=["onClick"],d=["src"],h={class:"name_box"},g={class:"name"},m=["onClick"],p={key:0,class:"icon_box"},f=o((()=>(0,a._)("svg",{class:"icon","aria-hidden":"true"},[(0,a._)("use",{"xlink:href":"#icon-iconrenxiang"})],-1))),v=[f];function y(t,i,n,o,f,y){const _=e.g,w=(0,a.up)("lazy-component"),T=(0,a.Q2)("lazy");return(0,a.wg)(),(0,a.j4)(w,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(_,{vertical:"",type:"spinner"},{default:(0,a.w5)((()=>[l])),_:1},512),[[r.F8,1==f.isLoading]]),(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.artists,((t,i)=>((0,a.wg)(),(0,a.iD)("div",{key:i,class:(0,s.C_)((i+1)%6==0?"singerInfo singerInfoFive":"singerInfo")},[(0,a._)("div",{class:"head_box",onClick:i=>y.goSingerPage(t.id)},[(0,a.wy)((0,a._)("img",{src:t.img1v1Url},null,8,d),[[T,t.img1v1Url]])],8,u),(0,a._)("div",h,[(0,a._)("div",g,[(0,a._)("span",{onClick:i=>y.goSingerPage(t.id)},(0,s.zw)(t.name),9,m)]),1==t.isIdentify?((0,a.wg)(),(0,a.iD)("div",p,v)):(0,a.kq)("",!0)])],2)))),128))])])),_:1})}var _=n(1373);const w=(0,_.Z)();var T=w,k=n(9923),C={data(){return{area:-1,type:-1,initial:-1,artists:[],resData:[],total:0,once:6,countOfRender:24,isLoading:1}},props:["scrollTop"],mounted(){this.getSingers()},created(){T.on("area",(t=>{this.area=t})),T.on("type",(t=>{this.type=t})),T.on("initial",(t=>{this.initial=t}))},methods:{async getSingers(){let t=await(0,k.wq)(this.type,this.area,this.initial);console.log(t),this.resData=t.data.artists,this.isLoading=0,this.total=this.resData.length,this.artists=this.resData.slice(0,24),this.countOfRender=24},async scrollLoad(){const t=[];for(let i=0;i<this.once;i++){if(this.countOfRender>=this.total)return;t.push(this.resData[this.countOfRender]),this.countOfRender+=1}this.artists=this.artists.concat(t)},goSingerPage(t){this.$router.push({path:"/SingerPage",query:{id:t}})}},watch:{area(){this.isLoading=1,this.getSingers()},type(){this.isLoading=1,this.getSingers()},initial(){this.isLoading=1,this.getSingers()},scrollTop(){this.scrollLoad()}}},I=n(89);const Z=(0,I.Z)(C,[["render",y],["__scopeId","data-v-1609b1b9"]]);var E=Z;const $=t=>((0,a.dD)("data-v-0a290d75"),t=t(),(0,a.Cn)(),t),D={class:"classification"},G={class:"area"},b=$((()=>(0,a._)("div",{class:"areaHead"},[(0,a._)("span",null,"语种：")],-1))),S=["onClick"],z={class:"type"},L=$((()=>(0,a._)("div",{class:"typeHead"},[(0,a._)("span",null,"分类：")],-1))),q=["onClick"],H={class:"initial"},x=$((()=>(0,a._)("div",{class:"initialHead"},[(0,a._)("span",null,"筛选：")],-1))),A=$((()=>(0,a._)("span",{class:"initialHot"},"热门",-1))),F=[A],K=["onClick"],O=$((()=>(0,a._)("span",null,"#",-1))),P=[O];function R(t,i,n,e,r,o){return(0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",G,[b,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.areas,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(["areaItem",{actived:r.activeArea==t.id}]),onClick:i=>o.changeArea(t.id),key:t.id},[(0,a._)("span",null,(0,s.zw)(t.name),1)],10,S)))),128))]),(0,a._)("div",z,[L,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.types,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(["typeItem",{actived:r.activeType==t.id}]),onClick:i=>o.changeType(t.id),key:t.id},[(0,a._)("span",null,(0,s.zw)(t.name),1)],10,q)))),128))]),(0,a._)("div",H,[x,(0,a._)("div",{class:(0,s.C_)(["initialItem",{actived:-1==r.activeInitial}]),onClick:i[0]||(i[0]=t=>o.changeInitial(-1))},F,2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.initialItems,((t,i)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(["initialItem",{actived:r.activeInitial==t,initialP:"p"==t}]),onClick:i=>o.changeInitial(t),key:i},[(0,a._)("span",null,(0,s.zw)(t),1)],10,K)))),128)),(0,a._)("div",{class:(0,s.C_)(["initialItem",{actived:0==r.activeInitial}]),onClick:i[1]||(i[1]=t=>o.changeInitial(0))},P,2)])])}var j={data(){return{area:-1,type:-1,initial:-1,artists:[],areas:[{id:-1,name:"全部"},{id:7,name:"华语"},{id:96,name:"欧美"},{id:8,name:"日本"},{id:16,name:"韩国"},{id:0,name:"其他"}],types:[{id:-1,name:"全部"},{id:1,name:"男歌手"},{id:2,name:"女歌手"},{id:3,name:"乐队组合"}],initialItems:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],activeArea:-1,activeType:-1,activeInitial:-1}},mounted(){this.getSingers()},methods:{async getSingers(){let t=await(0,k.wq)(this.type,this.area,this.initial);this.artists=t.data.artists},changeArea(t){this.area=t,this.getSingers(),T.emit("area",this.area),this.activeArea=t},changeType(t){this.type=t,this.getSingers(),T.emit("type",this.type),this.activeType=t},changeInitial(t){this.initial=t,this.getSingers(),T.emit("initial",this.initial),this.activeInitial=t}}};const U=(0,I.Z)(j,[["render",R],["__scopeId","data-v-0a290d75"]]);var W=U;const Y={class:"big_container",ref:"big_container"},Q={class:"container"};function J(t,i,n,e,r,s){const o=W,l=E,c=(0,a.up)("lazy-component");return(0,a.wg)(),(0,a.iD)("div",Y,[(0,a._)("div",Q,[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o),(0,a.Wm)(l,{scrollTop:r.scrollTop},null,8,["scrollTop"])])),_:1})])],512)}var M={data(){return{scrollTop:0}},components:{SingersClassification:W,SingersList:E},created(){this.listenerFunction()},beforeDestroy(){document.removeEventListener("scroll",this.listenerFunction)},methods:{listenerFunction(t){document.addEventListener("scroll",this.handleScroll,!0)},handleScroll(){let t=this.$refs.big_container.scrollTop;t%200==0&&(this.scrollTop=t)}}};const V=(0,I.Z)(M,[["render",J],["__scopeId","data-v-5f823614"]]);var B=V}}]);
//# sourceMappingURL=802.c590a793.js.map