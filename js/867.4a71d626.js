"use strict";(self["webpackChunkwangyiyun_web"]=self["webpackChunkwangyiyun_web"]||[]).push([[867],{7232:function(t,e,o){o.d(e,{AN:function(){return u},F2:function(){return a},H4:function(){return n},Vb:function(){return h},dY:function(){return r},fi:function(){return c},iP:function(){return g},lc:function(){return d},xn:function(){return l},xz:function(){return s}});var i=o(7344);function a(){return(0,i.Z)({method:"GET",url:"/video/group/list"})}function s(t){return(0,i.Z)({method:"GET",url:`/video/category/list?cookie=${t}`})}function n(t,e,o){return(0,i.Z)({method:"GET",url:`/video/group?id=${t}&limit=${e}&cookie=${o}`})}function r(t,e){return(0,i.Z)({method:"GET",url:`/video/timeline/all?limit=${e}&cookie=${t}`})}function d(t,e){return(0,i.Z)({method:"GET",url:`/video/timeline/recommend?offset=${e}&cookie=${t}`})}function c(t,e){return(0,i.Z)({method:"GET",url:`/mv/first?limit=${t}&area=${e}`})}function l(){return(0,i.Z)({method:"GET",url:"/mv/all?order=最热&limit=8"})}function g(){return(0,i.Z)({method:"GET",url:"/mv/all?type=网易出品&limit=8"})}function u(t,e){return(0,i.Z)({method:"GET",url:`/top/mv?limit=${t}&area=${e}`})}function h(t,e,o,a){return(0,i.Z)({method:"GET",url:`/mv/all?area=${t}&type=${e}&order=${o}&limit=${a}`})}},2867:function(t,e,o){o.r(e),o.d(e,{default:function(){return Y}});var i=o(3396),a=o(7139),s=o(9242);const n=t=>((0,i.dD)("data-v-ecb12580"),t=t(),(0,i.Cn)(),t),r={class:"big_container"},d={class:"container"},c={class:"videoBox"},l={class:"options"},g=n((()=>(0,i._)("svg",{class:"icon","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-youjiantou1"})],-1))),u={class:"options_right",ref:"hotTags"},h=["onClick","onMouseover","onMouseleave"],f={class:"tags_box",ref:"tags_box"},v={class:"tags_box_top"},m={class:"tags_box_bottom"},k=["onClick"],y={class:"videos"},p={class:"pic"},w=["src","onClick"],T={class:"playCount"},_=n((()=>(0,i._)("svg",{class:"icon","aria-hidden":"true"},[(0,i._)("use",{"xlink:href":"#icon-bofang2"})],-1))),C={key:0},$={key:1},x={class:"durationms"},b={key:0},I={class:"durationms"},D={key:0},V={class:"info"},G={class:"videoName"},L=["onClick"],z=["onClick"],B={class:"creator"},E={key:0},H=["onClick"],q=["onClick"];function Z(t,e,o,n,Z,P){const A=(0,i.Q2)("lazy");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",d,[(0,i._)("div",c,[(0,i._)("div",l,[(0,i._)("div",{class:"options_left",onClick:e[1]||(e[1]=(...t)=>P.changeIsTagsBox&&P.changeIsTagsBox(...t)),ref:"options_left"},[(0,i._)("span",{onClick:e[0]||(e[0]=(...t)=>P.changeIsTagsBox&&P.changeIsTagsBox(...t)),ref:"catSpan"},(0,a.zw)(Z.cat),513),g],512),(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Z.hotLists,((t,e)=>((0,i.wg)(),(0,i.iD)("span",{class:"hotList",key:t.id,onClick:o=>P.change(e,t.id,t.name),ref_for:!0,ref:"hotTag",onMouseover:t=>P.hotTagMouseover(e),onMouseleave:t=>P.hotTagMouseleave(e)},(0,a.zw)(t.name),41,h)))),128))],512)]),(0,i.wy)((0,i._)("div",f,[(0,i._)("div",v,[(0,i._)("div",{class:(0,a.C_)(["tag",{tagActived:-1==Z.tagActive}])},[(0,i._)("span",{onClick:e[2]||(e[2]=t=>P.tagsChange(0,-1,"全部视频"))},"全部视频")],2)]),(0,i._)("div",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Z.groupList,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["tag",{tagActived:Z.tagActive==e}]),key:e,onClick:o=>P.tagsChange(t.id,e,t.name)},[(0,i._)("span",null,(0,a.zw)(t.name),1)],10,k)))),128))])],512),[[s.F8,1==Z.isTagsBox]]),(0,i._)("div",y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Z.videos,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)((e+1)%4==0?"video videoRight":"video"),key:t.id},[(0,i._)("div",p,[(0,i.wy)((0,i._)("img",{src:t.data.coverUrl,onClick:e=>P.goVideoPlayer(t.data.vid)},null,8,w),[[A,t.data.coverUrl]]),(0,i._)("div",T,[_,t.data.playTime?((0,i.wg)(),(0,i.iD)("span",C,(0,a.zw)(P.formatCount(t.data.playTime)),1)):(0,i.kq)("",!0),t.data.playCount?((0,i.wg)(),(0,i.iD)("span",$,(0,a.zw)(P.formatCount(t.data.playCount)),1)):(0,i.kq)("",!0)]),(0,i._)("div",x,[t.data.durationms?((0,i.wg)(),(0,i.iD)("span",b,(0,a.zw)(P.formatDuration(t.data.durationms)),1)):(0,i.kq)("",!0)]),(0,i._)("div",I,[t.data.duration?((0,i.wg)(),(0,i.iD)("span",D,(0,a.zw)(P.formatDuration(t.data.duration)),1)):(0,i.kq)("",!0)])]),(0,i._)("div",V,[(0,i._)("div",G,[t.data.title?((0,i.wg)(),(0,i.iD)("span",{key:0,onClick:e=>P.goVideoPlayer(t.data.vid)},(0,a.zw)(t.data.title),9,L)):(0,i.kq)("",!0),t.data.name?((0,i.wg)(),(0,i.iD)("span",{key:1,onClick:e=>P.goVideoPlayer(t.data.vid)},(0,a.zw)(t.data.name),9,z)):(0,i.kq)("",!0)]),(0,i._)("div",B,[t.data.creator||t.data.artists?((0,i.wg)(),(0,i.iD)("span",E,"by")):(0,i.kq)("",!0),t.data.creator?((0,i.wg)(),(0,i.iD)("span",{key:1,class:"creatorName",onClick:e=>P.gotoPersonalHome(t.data.creator.userId)},(0,a.zw)(t.data.creator.nickname),9,H)):(0,i.kq)("",!0),t.data.artists?((0,i.wg)(),(0,i.iD)("span",{key:2,class:"creatorName",onClick:e=>P.gotoPersonalHome(t.data.artists[0].userId)},(0,a.zw)(t.data.artists[0].name),9,q)):(0,i.kq)("",!0)])])],2)))),128))])])])])}var P=o(7232),A={data(){return{cat:"全部视频",groupList:[],hotLists:[],isTagsBox:!1,nowTagId:0,tagActive:-1,videos:[]}},mounted(){this.getVideoGroupList(),window.addEventListener("click",this.otherClose),sessionStorage.getItem("cookie")&&(this.getVideoCategoryList(),this.getVideoTimeline())},beforeDestroy(){window.removeEventListener("click",this.otherClose)},methods:{async getVideoGroupList(){let t=await(0,P.F2)();this.groupList=t.data.data},async getVideoCategoryList(){let t=await(0,P.xz)(sessionStorage.getItem("cookie"));this.hotLists=t.data.data},async getVideoTimeline(){let t=await(0,P.dY)(sessionStorage.getItem("cookie"),30);this.videos=t.data.datas,this.videos=this.videos.filter((t=>1==t.type))},async getVideoGroupId(t){let e=await(0,P.H4)(t,30,sessionStorage.getItem("cookie"));this.videos=e.data.datas},async getVideoRecommend(){await(0,P.lc)(sessionStorage.getItem("cookie"),10)},change(t,e,o){if(this.nowTagId!==e){this.cat=o,this.nowTagId=e,this.exclusiveHot(t);const i=this.groupList.findIndex((t=>t.name===o));this.tagActive=i,sessionStorage.getItem("cookie")&&this.getVideoGroupId(this.nowTagId)}},tagsChange(t,e,o){if(this.cat=o,this.nowTagId=t,this.tagActive=e,this.isTagsBox=!1,this.$refs.hotTag.forEach((t=>{t.style.backgroundColor="#fff",t.style.color="rgb(94, 94, 94)"})),0==t)return void this.getVideoTimeline();sessionStorage.getItem("cookie")&&this.getVideoGroupId(this.nowTagId);const i=this.hotLists.findIndex((t=>t.name===o));-1!=i&&this.exclusiveHot(i)},changeIsTagsBox(){this.isTagsBox=!this.isTagsBox},otherClose(t){1==this.isTagsBox&&this.$refs.tags_box.contains(t.target),1!=this.isTagsBox||this.$refs.tags_box.contains(t.target)||this.$refs.options_left.contains(t.target)||(this.isTagsBox=!1)},exclusiveHot(t){for(var e=0;e<this.$refs.hotTags.children.length;e++)this.$refs.hotTag[e].style.backgroundColor="#fff",this.$refs.hotTag[e].style.color="rgb(94, 94, 94)";this.$refs.hotTag[t].style.backgroundColor="#fce9e9",this.$refs.hotTag[t].style.color="rgb(231, 25, 25)"},hotTagMouseover(t){"rgb(231, 25, 25)"!=this.$refs.hotTag[t].style.color&&(this.$refs.hotTag[t].style.color="#000")},hotTagMouseleave(t){"rgb(231, 25, 25)"!=this.$refs.hotTag[t].style.color&&(this.$refs.hotTag[t].style.color="rgb(94, 94, 94)")},formatCount(t){return this.$formatCount(t)},formatDuration(t){return this.$formatDuration(t)},gotoPersonalHome(t){this.$router.push({path:"/PersonalHome",query:{userId:t}})},goVideoPlayer(t){this.$router.push({path:"/VideoPlayer",query:{videoid:t,type:2}})}}},M=o(89);const S=(0,M.Z)(A,[["render",Z],["__scopeId","data-v-ecb12580"]]);var Y=S}}]);
//# sourceMappingURL=867.4a71d626.js.map